$(document).ready(function(){var t=function(){var e=$(window).scrollTop()+$(window).height(),i=$(".animatable");0==i.length&&$(window).off("scroll",t),i.each(function(t){var i=$(this);i.offset().top+i.height()-10<e&&i.removeClass("animatable").addClass("animated")})};$(window).on("scroll",t),$(window).trigger("scroll")}),$(window).width()<960&&($(".header").addClass("shrink"),$(".fullpage").attr("id","fullpage-new")),$(window).scroll(function(){var t=$(".header").height(),e=$(".header");$(window).scrollTop()>=1*t?e.addClass("shrink"):e.removeClass("shrink")}),function(t){"use strict";function e(){o.slideWidth=n.width(),o.slideHeight=n.height(),console.log(o.slideWidth),console.log(o.slideHeight),o.sliderWidth=Math.ceil(o.slideWidth*i.length),o.sliderHeight=n.outerHeight(!0),s.width(o.sliderWidth),function(){var t={x:-i.width()*(i.length-1),ease:Power2.easeInOut};null!=c&&null!=h?(l=0,c.progress(l),(h=new TimelineMax).to(s,2,t),c.setTween(h),c.refresh()):(a=new ScrollMagic.Controller,(h=new TimelineMax).to(s,2,t),h.progress(l),c=new ScrollMagic.Scene({triggerElement:o.slider,triggerHook:"onLeave",duration:o.sliderWidth}).setPin(o.slider).setTween(h).addTo(a).on("start",function(t){h.time(0)}))}()}t(".scroll-slider1");var i=t(".scroll-slide1"),s=t(".scroll-wrapper1"),n=i.first(),o={},r=!1,a=null,h=null,l=1,c=null;t(document).ready(function(){!function(i){o=t.extend({slider:".scroll-slider1",sliderWrapper:".scroll-wrapper1",slides:".scroll-slide1",slideWidth:null,slideHeight:null},i),e(),t(window).on("resize",function(){clearTimeout(r),r=setTimeout(function(){e()},250)})}()})}(jQuery),function(t){"use strict";function e(){o.slideWidth=n.width(),o.slideHeight=n.height(),console.log(o.slideWidth),console.log(o.slideHeight),o.sliderWidth=Math.ceil(o.slideWidth*i.length),o.sliderHeight=n.outerHeight(!0),s.width(o.sliderWidth),function(){var t={x:-i.width()*(i.length-1),ease:Power2.easeInOut};null!=c&&null!=h?(l=0,c.progress(l),(h=new TimelineMax).to(s,2,t),c.setTween(h),c.refresh()):(a=new ScrollMagic.Controller,(h=new TimelineMax).to(s,2,t),h.progress(l),c=new ScrollMagic.Scene({triggerElement:o.slider,triggerHook:"onLeave",duration:o.sliderWidth}).setPin(o.slider).setTween(h).addTo(a).on("start",function(t){h.time(0)}))}()}t(".scroll-slider");var i=t(".scroll-slide"),s=t(".scroll-wrapper"),n=i.first(),o={},r=!1,a=null,h=null,l=1,c=null;t(document).ready(function(){!function(i){o=t.extend({slider:".scroll-slider",sliderWrapper:".scroll-wrapper",slides:".scroll-slide",slideWidth:null,slideHeight:null},i),e(),t(window).on("resize",function(){clearTimeout(r),r=setTimeout(function(){e()},250)})}()})}(jQuery),$(function(){$(".youtube").each(function(){$(this).css("background-image","url(http://i.ytimg.com/vi/"+this.id+"/sddefault.jpg)"),$(this).append($("<div/>",{class:"play"})),$(document).delegate("#"+this.id,"click",function(){var t="https://www.youtube.com/embed/"+this.id+"?autoplay=1&autohide=1";$(this).data("params")&&(t+="&"+$(this).data("params"));var e=$("<iframe/>",{frameborder:"0",src:t,width:$(this).width(),height:$(this).height()});$(this).replaceWith(e)})})});for(var tabs=document.getElementById("icetab-container").children,tabcontents=document.getElementById("icetab-content").children,myFunction=function(){for(var t=this.mynum,e=0;e<tabcontents.length;e++)tabcontents[e].className=" tabcontent",tabs[e].className=" icetab";tabcontents[t].classList.add("tab-active"),this.classList.add("current-tab")},index=0;index<tabs.length;index++)tabs[index].mynum=index,tabs[index].addEventListener("click",myFunction,!1);!function(t,e,i,s){function n(e,i){this.settings=null,this.options=t.extend({},n.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(n.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(n.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}n.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Type={Event:"event",State:"state"},n.Plugins={},n.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};!i&&this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};s--;)i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,o[s]=n?e*i:this._items[s].width();this._widths=o}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),o=2*Math.ceil(i.length/2),r=s.loop&&i.length?s.rewind?n:Math.max(n,o):0,a="",h="";for(r/=2;r--;)e.push(this.normalize(e.length/2,!0)),a+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),h=i[e[e.length-1]][0].outerHTML+h;this._clones=e,t(a).addClass("cloned").appendTo(this.$stage),t(h).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,s=0,n=0,o=[];++i<e;)s=o[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,o.push(s+n*t);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*n,h=[];for(i=0,s=this._coordinates.length;i<s;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*n,(this.op(t,"<=",r)&&this.op(t,">",a)||this.op(e,"<",r)&&this.op(e,">",a))&&h.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+h.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],n.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var e,i,s;e=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,s=this.$element.children(i).width(),e.length&&s<=0&&this.preloadAutoWidthImages(e)}this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},n.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,function(t){t<=e&&t>s&&(s=Number(t))}),"function"==typeof(n=t.extend({},this.options,i[s])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},n.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy(function(t){return this[t]},this._invalidated),n={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},n.prototype.width=function(t){switch(t=t||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},n.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},n.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},n.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?s={x:(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===s.length?12:4],y:s[16===s.length?13:5]}:(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},n.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,o.x=Math.max(Math.min(o.x,e+s),i+s)),this._drag.stage.current=o,this.animate(o.x))},n.prototype.onDragEnd=function(e){var s=this.difference(this._drag.pointer,this.pointer(e)),n=this._drag.stage.current,o=s.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==s.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(s.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},n.prototype.closest=function(e,i){var s=-1,n=this.width(),o=this.coordinates();return this.settings.freeDrag||t.each(o,t.proxy(function(t,r){return"left"===i&&e>r-30&&e<r+30?s=t:"right"===i&&e>r-n-30&&e<r-n+30?s=t+1:this.op(e,"<",r)&&this.op(e,">",o[t+1]||r-n)&&(s="left"===i?t+1:t),-1===s},this)),this.settings.loop||(this.op(e,">",o[this.minimum()])?s=e=this.minimum():this.op(e,"<",o[this.maximum()])&&(s=e=this.maximum())),s},n.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},n.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},n.prototype.current=function(t){if(void 0===t)return this._current;if(0!==this._items.length){if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});void 0!==e.data&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current}},n.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},n.prototype.reset=function(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},n.prototype.normalize=function(t,e){var i=this._items.length,s=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=void 0:(t<0||t>=i+s)&&(t=((t-s/2)%i+i)%i+s/2),t},n.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},n.prototype.maximum=function(t){var e,i,s,n=this.settings,o=this._coordinates.length;if(n.loop)o=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){for(e=this._items.length,i=this._items[--e].width(),s=this.$element.width();e--&&!((i+=this._items[e].width()+this.settings.margin)>s););o=e+1}else o=n.center?this._items.length-1:this._items.length-n.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},n.prototype.minimum=function(t){return t?0:this._clones.length/2},n.prototype.items=function(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),this._items[t])},n.prototype.mergers=function(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},n.prototype.clones=function(e){var i=this._clones.length/2,s=i+this._items.length,n=function(t){return t%2==0?s+t/2:i-(t+1)/2};return void 0===e?t.map(this._clones,function(t,e){return n(e)}):t.map(this._clones,function(t,i){return t===e?n(i):null})},n.prototype.speed=function(t){return void 0!==t&&(this._speed=t),this._speed},n.prototype.coordinates=function(e){var i,s=1,n=e-1;return void 0===e?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(s=-1,n=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[n]||0))/2*s):i=this._coordinates[n]||0,i=Math.ceil(i))},n.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),o=(n>0)-(n<0),r=this._items.length,a=this.minimum(),h=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>r/2&&(n+=-1*o*r),(s=(((t=i+n)-a)%r+r)%r+a)!==t&&s-n<=h&&s-n>0&&(i=s-n,t=s,this.reset(i))):t=this.settings.rewind?(t%(h+=1)+h)%h:Math.max(a,Math.min(h,t)),this.speed(this.duration(i,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},n.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},n.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},n.prototype.onTransitionEnd=function(t){if(void 0!==t&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},n.prototype.viewport=function(){var s;return this.options.responsiveBaseElement!==e?s=t(this.options.responsiveBaseElement).width():e.innerWidth?s=e.innerWidth:i.documentElement&&i.documentElement.clientWidth?s=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),s},n.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(e,i){var s=this.relative(this._current);i=void 0===i?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[s]&&this.reset(this._items[s].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},n.prototype.remove=function(t){void 0!==(t=this.normalize(t,!0))&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},n.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},n.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize));for(var s in this._plugins)this._plugins[s].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},n.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:t<i;case">":return s?t<i:t>i;case">=":return s?t<=i:t>=i;case"<=":return s?t>=i:t<=i}},n.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},n.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},n.prototype.trigger=function(e,i,s,o,r){var a={item:{count:this._items.length,index:this.current()}},h=t.camelCase(t.grep(["on",e,s],function(t){return t}).join("-").toLowerCase()),l=t.Event([e,"owl",s||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},a,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(l)}),this.register({type:n.Type.Event,name:e}),this.$element.trigger(l),this.settings&&"function"==typeof this.settings[h]&&this.settings[h].call(this,l)),l},n.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){void 0===this._states.current[e]&&(this._states.current[e]=0),this._states.current[e]++},this))},n.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},n.prototype.register=function(e){if(e.type===n.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===n.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,s){return t.inArray(i,this._states.tags[e.name])===s},this)))},n.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},n.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},n.prototype.pointer=function(t){var i={x:null,y:null};return t=t.originalEvent||t||e.event,(t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},n.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),o=s.data("owl.carousel");o||(o=new n(this,"object"==typeof e&&e),s.data("owl.carousel",o),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){o.register({type:n.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},o))})),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,i)})},t.fn.owlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},n.prototype.destroy=function(){var t,i;e.clearInterval(this._interval);for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var i=this._core.settings,s=i.center&&Math.ceil(i.items/2)||i.items,n=i.center&&-1*s||0,o=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+n,r=this._core.clones().length,a=t.proxy(function(t,e){this.load(e)},this);n++<s;)this.load(r/2+this._core.relative(o)),r&&t.each(this._core.clones(this._core.relative(o)),a),o++},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1},n.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||t.inArray(s.get(0),this._loaded)>-1||(n.each(t.proxy(function(i,s){var n,o=t(s),r=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src");this._core.trigger("load",{element:o,url:r},"lazy"),o.is("img")?o.one("load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("src",r):((n=new Image).onload=t.proxy(function(){o.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:o,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(s.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,s=this._core.$stage.children().toArray().slice(e,i),n=[],o=0;t.each(s,function(e,i){n.push(t(i).height())}),o=Math.max.apply(null,n),this._core.$stage.parent().height(o).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",s=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if((s=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(s[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(s[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},n.prototype.thumbnail=function(e,i){var s,n,o,r=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",a=e.find("img"),h="src",l="",c=this._core.settings,d=function(t){n='<div class="owl-video-play-icon"></div>',s=c.lazyLoad?'<div class="owl-video-tn '+l+'" '+h+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(s),e.after(n)};if(e.wrap('<div class="owl-video-wrapper"'+r+"></div>"),this._core.settings.lazyLoad&&(h="data-src",l="owl-lazy"),a.length)return d(a.attr(h)),a.remove(),!1;"youtube"===i.type?(o="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",d(o)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,d(o)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t.framegrab_url,d(o)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(e){var i,s=t(e.target).closest("."+this._core.settings.itemClass),n=this._videos[s.attr("data-video")],o=n.width||"100%",r=n.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),s=this._core.items(this._core.relative(s.index())),this._core.reset(s.index()),"youtube"===n.type?i='<iframe width="'+o+'" height="'+r+'" src="//www.youtube.com/embed/'+n.id+"?autoplay=1&rel=0&v="+n.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===n.type?i='<iframe src="//player.vimeo.com/video/'+n.id+'?autoplay=1" width="'+o+'" height="'+r+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===n.type&&(i='<iframe frameborder="0"height="'+r+'"width="'+o+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+n.id+'/player?autoplay=true"></iframe>'),t('<div class="owl-video-frame">'+i+"</div>").insertAfter(s.find(".owl-video")),this._playing=s.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this.core=e,this.core.options=t.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(r)),o&&n.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(o))}},n.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype.play=function(t,e){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},n.prototype._getNextTimeout=function(s,n){return this._timeout&&e.clearTimeout(this._timeout),e.setTimeout(t.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(n||this._core.settings.autoplaySpeed)},this),s||this._core.settings.autoplayTimeout)},n.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},n.prototype.stop=function(){this._core.is("rotating")&&(e.clearTimeout(this._timeout),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},n.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers)};n.Defaults={nav:!1,navText:["",""],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},n.prototype.initialize=function(){var e,i=this._core.settings;this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t("<div>").addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",t.proxy(function(e){var s=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(s,i.dotsSpeed)},this));for(e in this._overrides)this._core[e]=t.proxy(this[e],this)},n.prototype.destroy=function(){var t,e,i,s;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},n.prototype.update=function(){var t,e,i=this._core.clones().length/2,s=i+this._core.items().length,n=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],t=i,e=0,0;t<s;t++){if(e>=r||0===e){if(this._pages.push({start:Math.min(n,t-i),end:t-i+r-1}),Math.min(n,t-i)===n)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},n.prototype.draw=function(){var e,i=this._core.settings,s=this._core.items().length<=i.items,n=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},n.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},n.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,i){return t.start<=e&&t.end>=e},this)).pop()},n.prototype.getPosition=function(e){var i,s,n=this._core.settings;return"page"==n.slideBy?(i=t.inArray(this.current(),this._pages),s=this._pages.length,e?++i:--i,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,e?i+=n.slideBy:i-=n.slideBy),i},n.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},n.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},n.prototype.to=function(e,i,s){var n;!s&&this._pages.length?(n=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%n+n)%n].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.owlCarousel.Constructor.Plugins.Navigation=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var s=this._core.items(this._core.relative(this._core.current())),n=t.map(this._hashes,function(t,e){return t===s?e:null}).join();if(!n||e.location.hash.slice(1)===n)return;e.location.hash=n}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var i=e.location.hash.substring(1),s=this._core.$stage.children(),n=this._hashes[i]&&s.index(this._hashes[i]);void 0!==n&&n!==this._core.current()&&this._core.to(this._core.relative(n),!1,!0)},this))};n.Defaults={URLhashListener:!1},n.prototype.destroy=function(){var i,s;t(e).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){function n(e,i){var n=!1,o=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+a.join(o+" ")+o).split(" "),function(t,e){if(r[e]!==s)return n=!i||e,!1}),n}function o(t){return n(t,!0)}var r=t("<support>").get(0).style,a="Webkit Moz O ms".split(" "),h={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},l={csstransforms:function(){return!!n("transform")},csstransforms3d:function(){return!!n("perspective")},csstransitions:function(){return!!n("transition")},cssanimations:function(){return!!n("animation")}};l.csstransitions()&&(t.support.transition=new String(o("transition")),t.support.transition.end=h.transition.end[t.support.transition]),l.cssanimations()&&(t.support.animation=new String(o("animation")),t.support.animation.end=h.animation.end[t.support.animation]),l.csstransforms()&&(t.support.transform=new String(o("transform")),t.support.transform3d=l.csstransforms3d())}(window.Zepto||window.jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJkb0FuaW1hdGlvbnMiLCJvZmZzZXQiLCJ3aW5kb3ciLCJzY3JvbGxUb3AiLCJoZWlnaHQiLCIkYW5pbWF0YWJsZXMiLCJsZW5ndGgiLCJvZmYiLCJlYWNoIiwiaSIsIiRhbmltYXRhYmxlIiwidGhpcyIsInRvcCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJvbiIsInRyaWdnZXIiLCJ3aWR0aCIsImF0dHIiLCJzY3JvbGwiLCJ0IiwiZSIsInNldERpbWVuc2lvbnMiLCJzZXR0aW5ncyIsInNsaWRlV2lkdGgiLCIkZmlyc3RTbGlkZTEiLCJzbGlkZUhlaWdodCIsImNvbnNvbGUiLCJsb2ciLCJzbGlkZXJXaWR0aCIsIk1hdGgiLCJjZWlsIiwiJHNsaWRlczEiLCJzbGlkZXJIZWlnaHQiLCJvdXRlckhlaWdodCIsIiRzbGlkZXJXcmFwcGVyMSIsInRsUGFyYW1zIiwieCIsImVhc2UiLCJQb3dlcjIiLCJlYXNlSW5PdXQiLCJzY3JvbGxTY2VuZSIsInNjcm9sbFRpbWVsaW5lIiwicHJvZ3Jlc3MiLCJUaW1lbGluZU1heCIsInRvIiwic2V0VHdlZW4iLCJyZWZyZXNoIiwic2Nyb2xsQ29udHJvbGxlciIsIlNjcm9sbE1hZ2ljIiwiQ29udHJvbGxlciIsIlNjZW5lIiwidHJpZ2dlckVsZW1lbnQiLCJzbGlkZXIiLCJ0cmlnZ2VySG9vayIsImR1cmF0aW9uIiwic2V0UGluIiwiYWRkVG8iLCJldmVudCIsInRpbWUiLCJzZXRTY2VuZSIsImZpcnN0IiwicmVzaXppbmciLCJvcHRpb25zIiwiZXh0ZW5kIiwic2xpZGVyV3JhcHBlciIsInNsaWRlcyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJzY3JvbGxTbGlkZXIxIiwialF1ZXJ5IiwiJGZpcnN0U2xpZGUiLCIkc2xpZGVzIiwiJHNsaWRlcldyYXBwZXIiLCJzY3JvbGxTbGlkZXIiLCJjc3MiLCJpZCIsImFwcGVuZCIsImNsYXNzIiwiZGVsZWdhdGUiLCJpZnJhbWVfdXJsIiwiZGF0YSIsImlmcmFtZSIsImZyYW1lYm9yZGVyIiwic3JjIiwicmVwbGFjZVdpdGgiLCJ0YWJzIiwiZ2V0RWxlbWVudEJ5SWQiLCJjaGlsZHJlbiIsInRhYmNvbnRlbnRzIiwibXlGdW5jdGlvbiIsInRhYmNoYW5nZSIsIm15bnVtIiwiaW50IiwiY2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5kZXgiLCJhZGRFdmVudExpc3RlbmVyIiwidW5kZWZpbmVkIiwiT3dsIiwiZWxlbWVudCIsIkRlZmF1bHRzIiwiJGVsZW1lbnQiLCJfaGFuZGxlcnMiLCJfcGx1Z2lucyIsIl9zdXByZXNzIiwiX2N1cnJlbnQiLCJfc3BlZWQiLCJfY29vcmRpbmF0ZXMiLCJfYnJlYWtwb2ludCIsIl93aWR0aCIsIl9pdGVtcyIsIl9jbG9uZXMiLCJfbWVyZ2VycyIsIl93aWR0aHMiLCJfaW52YWxpZGF0ZWQiLCJfcGlwZSIsIl9kcmFnIiwidGFyZ2V0IiwicG9pbnRlciIsInN0YWdlIiwic3RhcnQiLCJjdXJyZW50IiwiZGlyZWN0aW9uIiwiX3N0YXRlcyIsInRhZ3MiLCJpbml0aWFsaXppbmciLCJhbmltYXRpbmciLCJkcmFnZ2luZyIsInByb3h5IiwiaGFuZGxlciIsIlBsdWdpbnMiLCJrZXkiLCJwbHVnaW4iLCJjaGFyQXQiLCJ0b0xvd2VyQ2FzZSIsInNsaWNlIiwiV29ya2VycyIsInByaW9yaXR5Iiwid29ya2VyIiwicHVzaCIsImZpbHRlciIsInJ1biIsInNldHVwIiwiaW5pdGlhbGl6ZSIsIml0ZW1zIiwibG9vcCIsImNlbnRlciIsInJld2luZCIsIm1vdXNlRHJhZyIsInRvdWNoRHJhZyIsInB1bGxEcmFnIiwiZnJlZURyYWciLCJtYXJnaW4iLCJzdGFnZVBhZGRpbmciLCJtZXJnZSIsIm1lcmdlRml0IiwiYXV0b1dpZHRoIiwic3RhcnRQb3NpdGlvbiIsInJ0bCIsInNtYXJ0U3BlZWQiLCJmbHVpZFNwZWVkIiwiZHJhZ0VuZFNwZWVkIiwicmVzcG9uc2l2ZSIsInJlc3BvbnNpdmVSZWZyZXNoUmF0ZSIsInJlc3BvbnNpdmVCYXNlRWxlbWVudCIsImZhbGxiYWNrRWFzaW5nIiwiaW5mbyIsIm5lc3RlZEl0ZW1TZWxlY3RvciIsIml0ZW1FbGVtZW50Iiwic3RhZ2VFbGVtZW50IiwicmVmcmVzaENsYXNzIiwibG9hZGVkQ2xhc3MiLCJsb2FkaW5nQ2xhc3MiLCJydGxDbGFzcyIsInJlc3BvbnNpdmVDbGFzcyIsImRyYWdDbGFzcyIsIml0ZW1DbGFzcyIsInN0YWdlQ2xhc3MiLCJzdGFnZU91dGVyQ2xhc3MiLCJncmFiQ2xhc3MiLCJXaWR0aCIsIkRlZmF1bHQiLCJJbm5lciIsIk91dGVyIiwiVHlwZSIsIkV2ZW50IiwiU3RhdGUiLCJjYWNoZSIsInJlbGF0aXZlIiwiJHN0YWdlIiwicmVtb3ZlIiwiZ3JpZCIsIm1hcmdpbi1sZWZ0IiwibWFyZ2luLXJpZ2h0IiwidG9GaXhlZCIsIml0ZXJhdG9yIiwid2lkdGhzIiwibWluIiwiY2xvbmVzIiwidmlldyIsIm1heCIsInNpemUiLCJyZXBlYXQiLCJwcmVwZW5kIiwibm9ybWFsaXplIiwib3V0ZXJIVE1MIiwiYXBwZW5kVG8iLCJwcmVwZW5kVG8iLCJwcmV2aW91cyIsImNvb3JkaW5hdGVzIiwicGFkZGluZyIsImFicyIsInBhZGRpbmctbGVmdCIsInBhZGRpbmctcmlnaHQiLCJlcSIsInJlbW92ZUF0dHIiLCJtaW5pbXVtIiwibWF4aW11bSIsInJlc2V0IiwiYW5pbWF0ZSIsImlubmVyIiwib3V0ZXIiLCJuIiwiYmVnaW4iLCJlbmQiLCJtYXRjaGVzIiwib3AiLCJqb2luIiwicHJvdG90eXBlIiwiZW50ZXIiLCJ0b2dnbGVDbGFzcyIsImlzIiwiaW1ncyIsIm5lc3RlZFNlbGVjdG9yIiwiZmluZCIsInByZWxvYWRBdXRvV2lkdGhJbWFnZXMiLCJ3cmFwIiwicGFyZW50IiwicmVwbGFjZSIsIm5vdCIsImludmFsaWRhdGUiLCJyZWdpc3RlckV2ZW50SGFuZGxlcnMiLCJsZWF2ZSIsInZpZXdwb3J0Iiwib3ZlcndyaXRlcyIsIm1hdGNoIiwiYnJlYWtwb2ludCIsIk51bWJlciIsIlJlZ0V4cCIsInByb3BlcnR5IiwibmFtZSIsInZhbHVlIiwib3B0aW9uc0xvZ2ljIiwicHJlcGFyZSIsIml0ZW0iLCJjb250ZW50IiwidXBkYXRlIiwicCIsImFsbCIsImdyZXAiLCJkaW1lbnNpb24iLCJvblRocm90dGxlZFJlc2l6ZSIsInJlc2l6ZVRpbWVyIiwib25SZXNpemUiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsIm9uVHJhbnNpdGlvbkVuZCIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnRW5kIiwid2hpY2giLCJ0cmFuc2Zvcm0iLCJzcGxpdCIsInkiLCJwb3NpdGlvbiIsImxlZnQiLCJzdG9wIiwidHlwZSIsInNwZWVkIiwiRGF0ZSIsImdldFRpbWUiLCJvbmUiLCJkZWx0YSIsImRpZmZlcmVuY2UiLCJvbkRyYWdNb3ZlIiwicHJldmVudERlZmF1bHQiLCJwdWxsIiwiY2xvc2VzdCIsImNvb3JkaW5hdGUiLCJ0cmFuc2Zvcm0zZCIsInN0YXRlIiwicGFydCIsIm1hcCIsInYiLCJzdXBwcmVzcyIsInJlbGVhc2UiLCJtIiwiaXNOdW1lcmljIiwicmVjaXByb2NhbEl0ZW1zV2lkdGgiLCJlbGVtZW50V2lkdGgiLCJtZXJnZXJzIiwib2RkIiwiZXZlbiIsIm11bHRpcGxpZXIiLCJuZXdQb3NpdGlvbiIsImZyb20iLCJmYWN0b3IiLCJyZXZlcnQiLCJkaXN0YW5jZSIsIm5leHQiLCJwcmV2Iiwic3RvcFByb3BhZ2F0aW9uIiwic3JjRWxlbWVudCIsIm9yaWdpbmFsVGFyZ2V0IiwiZ2V0IiwiaW5uZXJXaWR0aCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwid2FybiIsImVtcHR5Iiwibm9kZVR5cGUiLCJhZGRCYWNrIiwiYWZ0ZXIiLCJiZWZvcmUiLCJzcGxpY2UiLCJpbWFnZXMiLCJJbWFnZSIsImRlc3Ryb3kiLCJ1bndyYXAiLCJjb250ZW50cyIsInJlbW92ZURhdGEiLCJhIiwibyIsImIiLCJsaXN0ZW5lciIsImNhcHR1cmUiLCJhdHRhY2hFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZXRhY2hFdmVudCIsIm5hbWVzcGFjZSIsInN0YXR1cyIsImNvdW50IiwiY2FtZWxDYXNlIiwicmVsYXRlZFRhcmdldCIsIm9uVHJpZ2dlciIsInJlZ2lzdGVyIiwiY2FsbCIsImNvbmNhdCIsIm9iamVjdCIsInNwZWNpYWwiLCJvd2wiLCJfZGVmYXVsdCIsImFwcGx5IiwiaW5kZXhPZiIsImFyZ3VtZW50cyIsInRhZyIsImluQXJyYXkiLCJldmVudHMiLCJyZXN1bHQiLCJvcmlnaW5hbEV2ZW50IiwidG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsImNsaWVudFgiLCJjbGllbnRZIiwibnVtYmVyIiwiaXNOYU4iLCJwYXJzZUZsb2F0Iiwic2Vjb25kIiwiZm4iLCJvd2xDYXJvdXNlbCIsIm9wdGlvbiIsImFyZ3MiLCJBcnJheSIsIiR0aGlzIiwiQ29uc3RydWN0b3IiLCJaZXB0byIsIkF1dG9SZWZyZXNoIiwiY2Fyb3VzZWwiLCJfY29yZSIsIl9pbnRlcnZhbCIsIl92aXNpYmxlIiwiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIiwiYXV0b1JlZnJlc2giLCJ3YXRjaCIsImF1dG9SZWZyZXNoSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiTGF6eSIsIl9sb2FkZWQiLCJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgY2hhbmdlLm93bC5jYXJvdXNlbCByZXNpemVkLm93bC5jYXJvdXNlbCIsImxhenlMb2FkIiwibG9hZCIsIiRpdGVtIiwiJGVsZW1lbnRzIiwiaW1hZ2UiLCJ1cmwiLCJkZXZpY2VQaXhlbFJhdGlvIiwib25sb2FkIiwiYmFja2dyb3VuZC1pbWFnZSIsIm9wYWNpdHkiLCJoYW5kbGVycyIsIkF1dG9IZWlnaHQiLCJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgcmVmcmVzaGVkLm93bC5jYXJvdXNlbCIsImF1dG9IZWlnaHQiLCJjaGFuZ2VkLm93bC5jYXJvdXNlbCIsImxvYWRlZC5vd2wubGF6eSIsImF1dG9IZWlnaHRDbGFzcyIsInZpc2libGUiLCJ0b0FycmF5IiwiaGVpZ2h0cyIsIm1heGhlaWdodCIsIlZpZGVvIiwiX3ZpZGVvcyIsIl9wbGF5aW5nIiwicmVzaXplLm93bC5jYXJvdXNlbCIsInZpZGVvIiwiaXNJbkZ1bGxTY3JlZW4iLCJyZWZyZXNoZWQub3dsLmNhcm91c2VsIiwicHJlcGFyZWQub3dsLmNhcm91c2VsIiwiZmV0Y2giLCJwbGF5IiwidmlkZW9IZWlnaHQiLCJ2aWRlb1dpZHRoIiwiRXJyb3IiLCJ0aHVtYm5haWwiLCJ0bkxpbmsiLCJpY29uIiwicGF0aCIsImRpbWVuc2lvbnMiLCJjdXN0b21UbiIsInNyY1R5cGUiLCJsYXp5Q2xhc3MiLCJjcmVhdGUiLCJhamF4IiwianNvbnAiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJ0aHVtYm5haWxfbGFyZ2UiLCJmcmFtZWdyYWJfdXJsIiwiaHRtbCIsImluc2VydEFmdGVyIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJtb3pGdWxsU2NyZWVuRWxlbWVudCIsIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IiwiaGFzQ2xhc3MiLCJBbmltYXRlIiwic2NvcGUiLCJjb3JlIiwic3dhcHBpbmciLCJjaGFuZ2Uub3dsLmNhcm91c2VsIiwiZHJhZy5vd2wuY2Fyb3VzZWwgZHJhZ2dlZC5vd2wuY2Fyb3VzZWwgdHJhbnNsYXRlZC5vd2wuY2Fyb3VzZWwiLCJ0cmFuc2xhdGUub3dsLmNhcm91c2VsIiwiYW5pbWF0ZU91dCIsImFuaW1hdGVJbiIsInN3YXAiLCJhbmltYXRpb24iLCJjbGVhciIsImluY29taW5nIiwib3V0Z29pbmciLCJBdXRvcGxheSIsIl90aW1lb3V0IiwiX3BhdXNlZCIsImF1dG9wbGF5IiwiX3NldEF1dG9QbGF5SW50ZXJ2YWwiLCJwbGF5Lm93bC5hdXRvcGxheSIsInMiLCJzdG9wLm93bC5hdXRvcGxheSIsIm1vdXNlb3Zlci5vd2wuYXV0b3BsYXkiLCJhdXRvcGxheUhvdmVyUGF1c2UiLCJwYXVzZSIsIm1vdXNlbGVhdmUub3dsLmF1dG9wbGF5IiwidG91Y2hzdGFydC5vd2wuY29yZSIsInRvdWNoZW5kLm93bC5jb3JlIiwiYXV0b3BsYXlUaW1lb3V0IiwiYXV0b3BsYXlTcGVlZCIsInRpbWVvdXQiLCJfZ2V0TmV4dFRpbWVvdXQiLCJoaWRkZW4iLCJOYXZpZ2F0aW9uIiwiX2luaXRpYWxpemVkIiwiX3BhZ2VzIiwiX2NvbnRyb2xzIiwiX3RlbXBsYXRlcyIsIl9vdmVycmlkZXMiLCJkb3RzRGF0YSIsImRvdENsYXNzIiwiYWRkZWQub3dsLmNhcm91c2VsIiwicG9wIiwicmVtb3ZlLm93bC5jYXJvdXNlbCIsImRyYXciLCJuYXYiLCJuYXZUZXh0IiwibmF2U3BlZWQiLCJuYXZFbGVtZW50IiwibmF2Q29udGFpbmVyIiwibmF2Q29udGFpbmVyQ2xhc3MiLCJuYXZDbGFzcyIsInNsaWRlQnkiLCJkb3RzQ2xhc3MiLCJkb3RzIiwiZG90c0VhY2giLCJkb3RzU3BlZWQiLCJkb3RzQ29udGFpbmVyIiwib3ZlcnJpZGUiLCIkcmVsYXRpdmUiLCIkcHJldmlvdXMiLCIkbmV4dCIsInByb3AiLCIkYWJzb2x1dGUiLCJjb250cm9sIiwib3ZlcmlkZXMiLCJqIiwibG93ZXIiLCJ1cHBlciIsImRpc2FibGVkIiwicGFnZSIsImdldFBvc2l0aW9uIiwic3VjY2Vzc29yIiwic3RhbmRhcmQiLCJIYXNoIiwiX2hhc2hlcyIsImhhc2giLCJsb2NhdGlvbiIsInN1YnN0cmluZyIsIlVSTGhhc2hMaXN0ZW5lciIsInRlc3QiLCJwcmVmaXhlZCIsInRvVXBwZXJDYXNlIiwicHJlZml4ZXMiLCJzdHlsZSIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJXZWJraXRBbmltYXRpb24iLCJNb3pBbmltYXRpb24iLCJPQW5pbWF0aW9uIiwidGVzdHMiLCJjc3N0cmFuc2Zvcm1zIiwi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QU1DLGtCQUVObGlCLEVBQUU4USxRQUFRTSxVQUFZLElBQUlrUixPQUFPZixFQUFTLGNBQzFDdmhCLEVBQUU4USxRQUFRd0IsWUFBYzJQLEVBQU1FLG1CQXRFckMsQ0F5RUU5aEIsT0FBT3lYLE9BQVN6WCxPQUFPb0UsT0FBUXBFLE9BQVFKIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLyo9PT09PT09PT09PT09PT09PT09PT09QU5JTUFUSU9OPT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB3aGljaCBhZGRzIHRoZSAnYW5pbWF0ZWQnIGNsYXNzIHRvIGFueSAnLmFuaW1hdGFibGUnIGluIHZpZXdcclxuICAgIHZhciBkb0FuaW1hdGlvbnMgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsYyBjdXJyZW50IG9mZnNldCBhbmQgZ2V0IGFsbCBhbmltYXRhYmxlc1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCksXHJcbiAgICAgICAgICAgICRhbmltYXRhYmxlcyA9ICQoJy5hbmltYXRhYmxlJyk7XHJcblxyXG4gICAgICAgIC8vIFVuYmluZCBzY3JvbGwgaGFuZGxlciBpZiB3ZSBoYXZlIG5vIGFuaW1hdGFibGVzXHJcbiAgICAgICAgaWYgKCRhbmltYXRhYmxlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAkKHdpbmRvdykub2ZmKCdzY3JvbGwnLCBkb0FuaW1hdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgYWxsIGFuaW1hdGFibGVzIGFuZCBhbmltYXRlIHRoZW0gaWYgbmVjZXNzYXJ5XHJcbiAgICAgICAgJGFuaW1hdGFibGVzLmVhY2goZnVuY3Rpb24oaSkge1xyXG4gICAgICAgICAgICB2YXIgJGFuaW1hdGFibGUgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAoKCRhbmltYXRhYmxlLm9mZnNldCgpLnRvcCArICRhbmltYXRhYmxlLmhlaWdodCgpIC0gMTApIDwgb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAkYW5pbWF0YWJsZS5yZW1vdmVDbGFzcygnYW5pbWF0YWJsZScpLmFkZENsYXNzKCdhbmltYXRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBIb29rIGRvQW5pbWF0aW9ucyBvbiBzY3JvbGwsIGFuZCB0cmlnZ2VyIGEgc2Nyb2xsXHJcbiAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGRvQW5pbWF0aW9ucyk7XHJcbiAgICAkKHdpbmRvdykudHJpZ2dlcignc2Nyb2xsJyk7XHJcblxyXG59KTtcclxuXHJcblxyXG4vKj09PT09Rk9SIFRBQkxFVCBIRUFERVI9PT09PT09PT09PT09Ki9cclxuaWYgKCQod2luZG93KS53aWR0aCgpIDwgOTYwKSB7XHJcbiAgICAkKCcuaGVhZGVyJykuYWRkQ2xhc3MoJ3NocmluaycpO1xyXG4gICAgJCgnLmZ1bGxwYWdlJykuYXR0cihcImlkXCIsIFwiZnVsbHBhZ2UtbmV3XCIpO1xyXG4gIC8qICAkKCcuZnVsbHBhZ2UnKS5yZW1vdmVBdHRyKCcjZnVsbHBhZ2UnKTsqL1xyXG59XHJcblxyXG4kKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHQgPSAkKFwiLmhlYWRlclwiKS5oZWlnaHQoKVxyXG4gICAgICAgICwgZSA9ICQoXCIuaGVhZGVyXCIpO1xyXG5cclxuICAgICQod2luZG93KS5zY3JvbGxUb3AoKSA+PSAxICogdCA/IGUuYWRkQ2xhc3MoXCJzaHJpbmtcIikgOiBlLnJlbW92ZUNsYXNzKFwic2hyaW5rXCIpXHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKj09PT09PT09PT09PT09PVNDcm9sbE1BZ2ljPT09PT09PT09PT09PT09Ki9cclxuIShmdW5jdGlvbigkKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciAkc2xpZGVyMSA9ICQoJy5zY3JvbGwtc2xpZGVyMScpLFxyXG4gICAgICAgICRzbGlkZXMxID0gJCgnLnNjcm9sbC1zbGlkZTEnKSxcclxuICAgICAgICAkc2xpZGVyV3JhcHBlcjEgPSAkKCcuc2Nyb2xsLXdyYXBwZXIxJyksXHJcbiAgICAgICAgJGZpcnN0U2xpZGUxID0gJHNsaWRlczEuZmlyc3QoKTtcclxuXHJcbiAgICB2YXIgc2V0dGluZ3MgPSB7fSxcclxuICAgICAgICByZXNpemluZyA9IGZhbHNlLFxyXG4gICAgICAgIHNjcm9sbENvbnRyb2xsZXIgPSBudWxsLFxyXG4gICAgICAgIHNjcm9sbFR3ZWVuID0gbnVsbCxcclxuICAgICAgICBzY3JvbGxUaW1lbGluZSA9IG51bGwsXHJcbiAgICAgICAgcHJvZ3Jlc3MgPSAxLFxyXG4gICAgICAgIHNjcm9sbFNjZW5lID0gbnVsbDtcclxuXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxTbGlkZXIxKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgLy8gRGVmYXVsdFxyXG4gICAgICAgIHNldHRpbmdzID0gJC5leHRlbmQoe1xyXG4gICAgICAgICAgICBzbGlkZXI6ICcuc2Nyb2xsLXNsaWRlcjEnLFxyXG4gICAgICAgICAgICBzbGlkZXJXcmFwcGVyOiAnLnNjcm9sbC13cmFwcGVyMScsXHJcbiAgICAgICAgICAgIHNsaWRlczogJy5zY3JvbGwtc2xpZGUxJyxcclxuICAgICAgICAgICAgc2xpZGVXaWR0aDogbnVsbCxcclxuICAgICAgICAgICAgc2xpZGVIZWlnaHQ6IG51bGwsXHJcbiAgICAgICAgfSwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIFNldCBkaW1lbnNpb25zXHJcbiAgICAgICAgc2V0RGltZW5zaW9ucygpO1xyXG5cclxuICAgICAgICAvLyBPbiByZXNpemVcclxuICAgICAgICAkKHdpbmRvdykub24oICdyZXNpemUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6aW5nKTtcclxuICAgICAgICAgICAgcmVzaXppbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2V0RGltZW5zaW9ucygpO1xyXG4gICAgICAgICAgICB9LCAyNTApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXREaW1lbnNpb25zKCkge1xyXG5cclxuICAgICAgICBzZXR0aW5ncy5zbGlkZVdpZHRoID0gJGZpcnN0U2xpZGUxLndpZHRoKCk7XHJcbiAgICAgICAgc2V0dGluZ3Muc2xpZGVIZWlnaHQgPSAkZmlyc3RTbGlkZTEuaGVpZ2h0KCk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHNldHRpbmdzLnNsaWRlV2lkdGgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHNldHRpbmdzLnNsaWRlSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHNsaWRlciB3aWR0aCBhbmQgaGVpZ2h0XHJcbiAgICAgICAgc2V0dGluZ3Muc2xpZGVyV2lkdGggPSBNYXRoLmNlaWwoKHNldHRpbmdzLnNsaWRlV2lkdGggKiAkc2xpZGVzMS5sZW5ndGgpKTtcclxuICAgICAgICBzZXR0aW5ncy5zbGlkZXJIZWlnaHQgPSAkZmlyc3RTbGlkZTEub3V0ZXJIZWlnaHQodHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIFNldCBzbGlkZXIgd2lkdGggYW5kIGhlaWdodFxyXG4gICAgICAgICRzbGlkZXJXcmFwcGVyMS53aWR0aChzZXR0aW5ncy5zbGlkZXJXaWR0aCk7XHJcbiAgICAgICAgLy8kc2xpZGVyV3JhcHBlci5oZWlnaHQoc2V0dGluZ3Muc2xpZGVySGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHNjZW5lXHJcbiAgICAgICAgc2V0U2NlbmUoKTtcclxuXHJcbiAgICAgICAgLy9yZXNpemluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFNjZW5lKCkge1xyXG5cclxuICAgICAgICB2YXIgeERpc3QgPSAtJHNsaWRlczEud2lkdGgoKSAqICggJHNsaWRlczEubGVuZ3RoIC0gMSApLFxyXG4gICAgICAgICAgICB0bFBhcmFtcyA9IHsgeDogeERpc3QsIGVhc2U6IFBvd2VyMi5lYXNlSW5PdXQgfTtcclxuXHJcbiAgICAgICAgaWYgKHNjcm9sbFNjZW5lICE9IG51bGwgJiYgc2Nyb2xsVGltZWxpbmUgIT0gbnVsbCkge1xyXG5cclxuICAgICAgICAgICAgcHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICBzY3JvbGxTY2VuZS5wcm9ncmVzcyhwcm9ncmVzcyk7XHJcblxyXG4gICAgICAgICAgICBzY3JvbGxUaW1lbGluZSA9IG5ldyBUaW1lbGluZU1heCgpO1xyXG4gICAgICAgICAgICBzY3JvbGxUaW1lbGluZS50byggJHNsaWRlcldyYXBwZXIxLCAyLCB0bFBhcmFtcyApO1xyXG5cclxuICAgICAgICAgICAgc2Nyb2xsU2NlbmUuc2V0VHdlZW4oc2Nyb2xsVGltZWxpbmUpO1xyXG5cclxuICAgICAgICAgICAgc2Nyb2xsU2NlbmUucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJbml0IFNjcm9sbE1hZ2ljIGNvbnRyb2xsZXJcclxuICAgICAgICAgICAgc2Nyb2xsQ29udHJvbGxlciA9IG5ldyBTY3JvbGxNYWdpYy5Db250cm9sbGVyKCk7XHJcblxyXG4gICAgICAgICAgICAvL0NyZWF0ZSBUd2VlblxyXG4gICAgICAgICAgICBzY3JvbGxUaW1lbGluZSA9IG5ldyBUaW1lbGluZU1heCgpO1xyXG4gICAgICAgICAgICBzY3JvbGxUaW1lbGluZS50byggJHNsaWRlcldyYXBwZXIxLCAyLCB0bFBhcmFtcyApO1xyXG4gICAgICAgICAgICBzY3JvbGxUaW1lbGluZS5wcm9ncmVzcyggcHJvZ3Jlc3MgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBzY2VuZSB0byBwaW4gYW5kIGxpbmsgYW5pbWF0aW9uXHJcbiAgICAgICAgICAgIHNjcm9sbFNjZW5lID0gbmV3IFNjcm9sbE1hZ2ljLlNjZW5lKHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJFbGVtZW50OiBzZXR0aW5ncy5zbGlkZXIsXHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VySG9vazogXCJvbkxlYXZlXCIsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogc2V0dGluZ3Muc2xpZGVyV2lkdGhcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zZXRQaW4oc2V0dGluZ3Muc2xpZGVyKVxyXG4gICAgICAgICAgICAgICAgLnNldFR3ZWVuKHNjcm9sbFRpbWVsaW5lKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRvKHNjcm9sbENvbnRyb2xsZXIpXHJcbiAgICAgICAgICAgICAgICAub24oJ3N0YXJ0JywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVGltZWxpbmUudGltZSgwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2Nyb2xsU2xpZGVyMSgpO1xyXG4gICAgfSk7XHJcblxyXG59KShqUXVlcnkpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8qPT09PXNlY29uZHQtc2xpZGVyPT09Ki9cclxuIShmdW5jdGlvbigkKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciAkc2xpZGVyID0gJCgnLnNjcm9sbC1zbGlkZXInKSxcclxuICAgICAgICAkc2xpZGVzID0gJCgnLnNjcm9sbC1zbGlkZScpLFxyXG4gICAgICAgICRzbGlkZXJXcmFwcGVyID0gJCgnLnNjcm9sbC13cmFwcGVyJyksXHJcbiAgICAgICAgJGZpcnN0U2xpZGUgPSAkc2xpZGVzLmZpcnN0KCk7XHJcblxyXG4gICAgdmFyIHNldHRpbmdzID0ge30sXHJcbiAgICAgICAgcmVzaXppbmcgPSBmYWxzZSxcclxuICAgICAgICBzY3JvbGxDb250cm9sbGVyID0gbnVsbCxcclxuICAgICAgICBzY3JvbGxUd2VlbiA9IG51bGwsXHJcbiAgICAgICAgc2Nyb2xsVGltZWxpbmUgPSBudWxsLFxyXG4gICAgICAgIHByb2dyZXNzID0gMSxcclxuICAgICAgICBzY3JvbGxTY2VuZSA9IG51bGw7XHJcblxyXG4gICAgZnVuY3Rpb24gc2Nyb2xsU2xpZGVyKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgLy8gRGVmYXVsdFxyXG4gICAgICAgIHNldHRpbmdzID0gJC5leHRlbmQoe1xyXG4gICAgICAgICAgICBzbGlkZXI6ICcuc2Nyb2xsLXNsaWRlcicsXHJcbiAgICAgICAgICAgIHNsaWRlcldyYXBwZXI6ICcuc2Nyb2xsLXdyYXBwZXInLFxyXG4gICAgICAgICAgICBzbGlkZXM6ICcuc2Nyb2xsLXNsaWRlJyxcclxuICAgICAgICAgICAgc2xpZGVXaWR0aDogbnVsbCxcclxuICAgICAgICAgICAgc2xpZGVIZWlnaHQ6IG51bGwsXHJcbiAgICAgICAgfSwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIFNldCBkaW1lbnNpb25zXHJcbiAgICAgICAgc2V0RGltZW5zaW9ucygpO1xyXG5cclxuICAgICAgICAvLyBPbiByZXNpemVcclxuICAgICAgICAkKHdpbmRvdykub24oICdyZXNpemUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6aW5nKTtcclxuICAgICAgICAgICAgcmVzaXppbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2V0RGltZW5zaW9ucygpO1xyXG4gICAgICAgICAgICB9LCAyNTApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXREaW1lbnNpb25zKCkge1xyXG5cclxuICAgICAgICBzZXR0aW5ncy5zbGlkZVdpZHRoID0gJGZpcnN0U2xpZGUud2lkdGgoKTtcclxuICAgICAgICBzZXR0aW5ncy5zbGlkZUhlaWdodCA9ICRmaXJzdFNsaWRlLmhlaWdodCgpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhzZXR0aW5ncy5zbGlkZVdpZHRoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhzZXR0aW5ncy5zbGlkZUhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBzbGlkZXIgd2lkdGggYW5kIGhlaWdodFxyXG4gICAgICAgIHNldHRpbmdzLnNsaWRlcldpZHRoID0gTWF0aC5jZWlsKChzZXR0aW5ncy5zbGlkZVdpZHRoICogJHNsaWRlcy5sZW5ndGgpKTtcclxuICAgICAgICBzZXR0aW5ncy5zbGlkZXJIZWlnaHQgPSAkZmlyc3RTbGlkZS5vdXRlckhlaWdodCh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHNsaWRlciB3aWR0aCBhbmQgaGVpZ2h0XHJcbiAgICAgICAgJHNsaWRlcldyYXBwZXIud2lkdGgoc2V0dGluZ3Muc2xpZGVyV2lkdGgpO1xyXG4gICAgICAgIC8vJHNsaWRlcldyYXBwZXIuaGVpZ2h0KHNldHRpbmdzLnNsaWRlckhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIFNldCBzY2VuZVxyXG4gICAgICAgIHNldFNjZW5lKCk7XHJcblxyXG4gICAgICAgIC8vcmVzaXppbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRTY2VuZSgpIHtcclxuXHJcbiAgICAgICAgdmFyIHhEaXN0ID0gLSRzbGlkZXMud2lkdGgoKSAqICggJHNsaWRlcy5sZW5ndGggLSAxICksXHJcbiAgICAgICAgICAgIHRsUGFyYW1zID0geyB4OiB4RGlzdCwgZWFzZTogUG93ZXIyLmVhc2VJbk91dCB9O1xyXG5cclxuICAgICAgICBpZiAoc2Nyb2xsU2NlbmUgIT0gbnVsbCAmJiBzY3JvbGxUaW1lbGluZSAhPSBudWxsKSB7XHJcblxyXG4gICAgICAgICAgICBwcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgIHNjcm9sbFNjZW5lLnByb2dyZXNzKHByb2dyZXNzKTtcclxuXHJcbiAgICAgICAgICAgIHNjcm9sbFRpbWVsaW5lID0gbmV3IFRpbWVsaW5lTWF4KCk7XHJcbiAgICAgICAgICAgIHNjcm9sbFRpbWVsaW5lLnRvKCAkc2xpZGVyV3JhcHBlciwgMiwgdGxQYXJhbXMgKTtcclxuXHJcbiAgICAgICAgICAgIHNjcm9sbFNjZW5lLnNldFR3ZWVuKHNjcm9sbFRpbWVsaW5lKTtcclxuXHJcbiAgICAgICAgICAgIHNjcm9sbFNjZW5lLnJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSW5pdCBTY3JvbGxNYWdpYyBjb250cm9sbGVyXHJcbiAgICAgICAgICAgIHNjcm9sbENvbnRyb2xsZXIgPSBuZXcgU2Nyb2xsTWFnaWMuQ29udHJvbGxlcigpO1xyXG5cclxuICAgICAgICAgICAgLy9DcmVhdGUgVHdlZW5cclxuICAgICAgICAgICAgc2Nyb2xsVGltZWxpbmUgPSBuZXcgVGltZWxpbmVNYXgoKTtcclxuICAgICAgICAgICAgc2Nyb2xsVGltZWxpbmUudG8oICRzbGlkZXJXcmFwcGVyLCAyLCB0bFBhcmFtcyApO1xyXG4gICAgICAgICAgICBzY3JvbGxUaW1lbGluZS5wcm9ncmVzcyggcHJvZ3Jlc3MgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBzY2VuZSB0byBwaW4gYW5kIGxpbmsgYW5pbWF0aW9uXHJcbiAgICAgICAgICAgIHNjcm9sbFNjZW5lID0gbmV3IFNjcm9sbE1hZ2ljLlNjZW5lKHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJFbGVtZW50OiBzZXR0aW5ncy5zbGlkZXIsXHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VySG9vazogXCJvbkxlYXZlXCIsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogc2V0dGluZ3Muc2xpZGVyV2lkdGhcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zZXRQaW4oc2V0dGluZ3Muc2xpZGVyKVxyXG4gICAgICAgICAgICAgICAgLnNldFR3ZWVuKHNjcm9sbFRpbWVsaW5lKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRvKHNjcm9sbENvbnRyb2xsZXIpXHJcbiAgICAgICAgICAgICAgICAub24oJ3N0YXJ0JywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVGltZWxpbmUudGltZSgwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2Nyb2xsU2xpZGVyKCk7XHJcbiAgICB9KTtcclxuXHJcbn0pKGpRdWVyeSk7XHJcblxyXG5cclxuLyo9PT09PT09PT09eW91dHViZT09PT09PT09Ki9cclxuXHJcbiQoZnVuY3Rpb24oKSB7XHJcbiAgICAkKFwiLnlvdXR1YmVcIikuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBCYXNlZCBvbiB0aGUgWW91VHViZSBJRCwgd2UgY2FuIGVhc2lseSBmaW5kIHRoZSB0aHVtYm5haWwgaW1hZ2VcclxuICAgICAgICAkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoaHR0cDovL2kueXRpbWcuY29tL3ZpLycgKyB0aGlzLmlkICsgJy9zZGRlZmF1bHQuanBnKScpO1xyXG5cclxuICAgICAgICAvLyBPdmVybGF5IHRoZSBQbGF5IGljb24gdG8gbWFrZSBpdCBsb29rIGxpa2UgYSB2aWRlbyBwbGF5ZXJcclxuICAgICAgICAkKHRoaXMpLmFwcGVuZCgkKCc8ZGl2Lz4nLCB7J2NsYXNzJzogJ3BsYXknfSkpO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5kZWxlZ2F0ZSgnIycrdGhpcy5pZCwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhbiBpRnJhbWUgd2l0aCBhdXRvcGxheSBzZXQgdG8gdHJ1ZVxyXG4gICAgICAgICAgICB2YXIgaWZyYW1lX3VybCA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvXCIgKyB0aGlzLmlkICsgXCI/YXV0b3BsYXk9MSZhdXRvaGlkZT0xXCI7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ3BhcmFtcycpKSBpZnJhbWVfdXJsKz0nJicrJCh0aGlzKS5kYXRhKCdwYXJhbXMnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRoZSBoZWlnaHQgYW5kIHdpZHRoIG9mIHRoZSBpRnJhbWUgc2hvdWxkIGJlIHRoZSBzYW1lIGFzIHBhcmVudFxyXG4gICAgICAgICAgICB2YXIgaWZyYW1lID0gJCgnPGlmcmFtZS8+JywgeydmcmFtZWJvcmRlcic6ICcwJywgJ3NyYyc6IGlmcmFtZV91cmwsICd3aWR0aCc6ICQodGhpcykud2lkdGgoKSwgJ2hlaWdodCc6ICQodGhpcykuaGVpZ2h0KCkgfSlcclxuXHJcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIFlvdVR1YmUgdGh1bWJuYWlsIHdpdGggWW91VHViZSBIVE1MNSBQbGF5ZXJcclxuICAgICAgICAgICAgJCh0aGlzKS5yZXBsYWNlV2l0aChpZnJhbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09VEFCUz09PT09PT09PT09PT09PT09PSovXHJcbnZhciB0YWJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ljZXRhYi1jb250YWluZXInKS5jaGlsZHJlbjtcclxudmFyIHRhYmNvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ljZXRhYi1jb250ZW50JykuY2hpbGRyZW47XHJcblxyXG52YXIgbXlGdW5jdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRhYmNoYW5nZSA9IHRoaXMubXludW07XHJcbiAgICBmb3IodmFyIGludD0wO2ludDx0YWJjb250ZW50cy5sZW5ndGg7aW50Kyspe1xyXG4gICAgICAgIHRhYmNvbnRlbnRzW2ludF0uY2xhc3NOYW1lID0gJyB0YWJjb250ZW50JztcclxuICAgICAgICB0YWJzW2ludF0uY2xhc3NOYW1lID0gJyBpY2V0YWInO1xyXG4gICAgfVxyXG4gICAgdGFiY29udGVudHNbdGFiY2hhbmdlXS5jbGFzc0xpc3QuYWRkKCd0YWItYWN0aXZlJyk7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQtdGFiJyk7XHJcbn1cclxuXHJcblxyXG5mb3IodmFyIGluZGV4PTA7aW5kZXg8dGFicy5sZW5ndGg7aW5kZXgrKyl7XHJcbiAgICB0YWJzW2luZGV4XS5teW51bT1pbmRleDtcclxuICAgIHRhYnNbaW5kZXhdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbXlGdW5jdGlvbiwgZmFsc2UpO1xyXG59XG4vKipcclxuICogT3dsIENhcm91c2VsIHYyLjIuMVxyXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE3IERhdmlkIERldXRzY2hcclxuICogTGljZW5zZWQgdW5kZXIgICgpXHJcbiAqL1xyXG4vKipcclxuICogT3dsIGNhcm91c2VsXHJcbiAqIEB2ZXJzaW9uIDIuMS42XHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICogQHRvZG8gTGF6eSBMb2FkIEljb25cclxuICogQHRvZG8gcHJldmVudCBhbmltYXRpb25lbmQgYnVibGluZ1xyXG4gKiBAdG9kbyBpdGVtc1NjYWxlVXBcclxuICogQHRvZG8gVGVzdCBaZXB0b1xyXG4gKiBAdG9kbyBzdGFnZVBhZGRpbmcgY2FsY3VsYXRlIHdyb25nIGFjdGl2ZSBjbGFzc2VzXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIGNhcm91c2VsLlxyXG4gICAgICogQGNsYXNzIFRoZSBPd2wgQ2Fyb3VzZWwuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fGpRdWVyeX0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIGNyZWF0ZSB0aGUgY2Fyb3VzZWwgZm9yLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIE93bChlbGVtZW50LCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgc2V0dGluZ3MgZm9yIHRoZSBjYXJvdXNlbC5cclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgb3B0aW9ucyBzZXQgYnkgdGhlIGNhbGxlciBpbmNsdWRpbmcgZGVmYXVsdHMuXHJcbiAgICAgICAgICogQHB1YmxpY1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBPd2wuRGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBQbHVnaW4gZWxlbWVudC5cclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudCA9ICQoZWxlbWVudCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFByb3hpZWQgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZmVyZW5jZXMgdG8gdGhlIHJ1bm5pbmcgcGx1Z2lucyBvZiB0aGlzIGNhcm91c2VsLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wbHVnaW5zID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnRseSBzdXBwcmVzc2VkIGV2ZW50cyB0byBwcmV2ZW50IHRoZW0gZnJvbSBiZWVpbmcgcmV0cmlnZ2VyZWQuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3N1cHJlc3MgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWJzb2x1dGUgY3VycmVudCBwb3NpdGlvbi5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY3VycmVudCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFuaW1hdGlvbiBzcGVlZCBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29vcmRpbmF0ZXMgb2YgYWxsIGl0ZW1zIGluIHBpeGVsLlxyXG4gICAgICAgICAqIEB0b2RvIFRoZSBuYW1lIG9mIHRoaXMgbWVtYmVyIGlzIG1pc3NsZWFkaW5nLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb29yZGluYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDdXJyZW50IGJyZWFrcG9pbnQuXHJcbiAgICAgICAgICogQHRvZG8gUmVhbCBtZWRpYSBxdWVyaWVzIHdvdWxkIGJlIG5pY2UuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2JyZWFrcG9pbnQgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDdXJyZW50IHdpZHRoIG9mIHRoZSBwbHVnaW4gZWxlbWVudC5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl93aWR0aCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCByZWFsIGl0ZW1zLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgY2xvbmVkIGl0ZW1zLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jbG9uZXMgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTWVyZ2UgdmFsdWVzIG9mIGFsbCBpdGVtcy5cclxuICAgICAgICAgKiBAdG9kbyBNYXliZSB0aGlzIGNvdWxkIGJlIHBhcnQgb2YgYSBwbHVnaW4uXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX21lcmdlcnMgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogV2lkdGhzIG9mIGFsbCBpdGVtcy5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl93aWR0aHMgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW52YWxpZGF0ZWQgcGFydHMgd2l0aGluIHRoZSB1cGRhdGUgcHJvY2Vzcy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZWQgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogT3JkZXJlZCBsaXN0IG9mIHdvcmtlcnMgZm9yIHRoZSB1cGRhdGUgcHJvY2Vzcy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fcGlwZSA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDdXJyZW50IHN0YXRlIGluZm9ybWF0aW9uIGZvciB0aGUgZHJhZyBvcGVyYXRpb24uXHJcbiAgICAgICAgICogQHRvZG8gIzI2MVxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9kcmFnID0ge1xyXG4gICAgICAgICAgICB0aW1lOiBudWxsLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IG51bGwsXHJcbiAgICAgICAgICAgIHBvaW50ZXI6IG51bGwsXHJcbiAgICAgICAgICAgIHN0YWdlOiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogbnVsbCxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IG51bGxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiBudWxsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCBzdGF0ZSBpbmZvcm1hdGlvbiBhbmQgdGhlaXIgdGFncy5cclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9zdGF0ZXMgPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IHt9LFxyXG4gICAgICAgICAgICB0YWdzOiB7XHJcbiAgICAgICAgICAgICAgICAnaW5pdGlhbGl6aW5nJzogWyAnYnVzeScgXSxcclxuICAgICAgICAgICAgICAgICdhbmltYXRpbmcnOiBbICdidXN5JyBdLFxyXG4gICAgICAgICAgICAgICAgJ2RyYWdnaW5nJzogWyAnaW50ZXJhY3RpbmcnIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICQuZWFjaChbICdvblJlc2l6ZScsICdvblRocm90dGxlZFJlc2l6ZScgXSwgJC5wcm94eShmdW5jdGlvbihpLCBoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdID0gJC5wcm94eSh0aGlzW2hhbmRsZXJdLCB0aGlzKTtcclxuICAgICAgICB9LCB0aGlzKSk7XHJcblxyXG4gICAgICAgICQuZWFjaChPd2wuUGx1Z2lucywgJC5wcm94eShmdW5jdGlvbihrZXksIHBsdWdpbikge1xyXG4gICAgICAgICAgICB0aGlzLl9wbHVnaW5zW2tleS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgxKV1cclxuICAgICAgICAgICAgICAgID0gbmV3IHBsdWdpbih0aGlzKTtcclxuICAgICAgICB9LCB0aGlzKSk7XHJcblxyXG4gICAgICAgICQuZWFjaChPd2wuV29ya2VycywgJC5wcm94eShmdW5jdGlvbihwcmlvcml0eSwgd29ya2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BpcGUucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAnZmlsdGVyJzogd29ya2VyLmZpbHRlcixcclxuICAgICAgICAgICAgICAgICdydW4nOiAkLnByb3h5KHdvcmtlci5ydW4sIHRoaXMpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cCgpO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zIGZvciB0aGUgY2Fyb3VzZWwuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIE93bC5EZWZhdWx0cyA9IHtcclxuICAgICAgICBpdGVtczogMyxcclxuICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICBjZW50ZXI6IGZhbHNlLFxyXG4gICAgICAgIHJld2luZDogZmFsc2UsXHJcblxyXG4gICAgICAgIG1vdXNlRHJhZzogdHJ1ZSxcclxuICAgICAgICB0b3VjaERyYWc6IHRydWUsXHJcbiAgICAgICAgcHVsbERyYWc6IHRydWUsXHJcbiAgICAgICAgZnJlZURyYWc6IGZhbHNlLFxyXG5cclxuICAgICAgICBtYXJnaW46IDAsXHJcbiAgICAgICAgc3RhZ2VQYWRkaW5nOiAwLFxyXG5cclxuICAgICAgICBtZXJnZTogZmFsc2UsXHJcbiAgICAgICAgbWVyZ2VGaXQ6IHRydWUsXHJcbiAgICAgICAgYXV0b1dpZHRoOiBmYWxzZSxcclxuXHJcbiAgICAgICAgc3RhcnRQb3NpdGlvbjogMCxcclxuICAgICAgICBydGw6IGZhbHNlLFxyXG5cclxuICAgICAgICBzbWFydFNwZWVkOiAyNTAsXHJcbiAgICAgICAgZmx1aWRTcGVlZDogZmFsc2UsXHJcbiAgICAgICAgZHJhZ0VuZFNwZWVkOiBmYWxzZSxcclxuXHJcbiAgICAgICAgcmVzcG9uc2l2ZToge30sXHJcbiAgICAgICAgcmVzcG9uc2l2ZVJlZnJlc2hSYXRlOiAyMDAsXHJcbiAgICAgICAgcmVzcG9uc2l2ZUJhc2VFbGVtZW50OiB3aW5kb3csXHJcblxyXG4gICAgICAgIGZhbGxiYWNrRWFzaW5nOiAnc3dpbmcnLFxyXG5cclxuICAgICAgICBpbmZvOiBmYWxzZSxcclxuXHJcbiAgICAgICAgbmVzdGVkSXRlbVNlbGVjdG9yOiBmYWxzZSxcclxuICAgICAgICBpdGVtRWxlbWVudDogJ2RpdicsXHJcbiAgICAgICAgc3RhZ2VFbGVtZW50OiAnZGl2JyxcclxuXHJcbiAgICAgICAgcmVmcmVzaENsYXNzOiAnb3dsLXJlZnJlc2gnLFxyXG4gICAgICAgIGxvYWRlZENsYXNzOiAnb3dsLWxvYWRlZCcsXHJcbiAgICAgICAgbG9hZGluZ0NsYXNzOiAnb3dsLWxvYWRpbmcnLFxyXG4gICAgICAgIHJ0bENsYXNzOiAnb3dsLXJ0bCcsXHJcbiAgICAgICAgcmVzcG9uc2l2ZUNsYXNzOiAnb3dsLXJlc3BvbnNpdmUnLFxyXG4gICAgICAgIGRyYWdDbGFzczogJ293bC1kcmFnJyxcclxuICAgICAgICBpdGVtQ2xhc3M6ICdvd2wtaXRlbScsXHJcbiAgICAgICAgc3RhZ2VDbGFzczogJ293bC1zdGFnZScsXHJcbiAgICAgICAgc3RhZ2VPdXRlckNsYXNzOiAnb3dsLXN0YWdlLW91dGVyJyxcclxuICAgICAgICBncmFiQ2xhc3M6ICdvd2wtZ3JhYidcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbnVtZXJhdGlvbiBmb3Igd2lkdGguXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcmVhZG9ubHlcclxuICAgICAqIEBlbnVtIHtTdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIE93bC5XaWR0aCA9IHtcclxuICAgICAgICBEZWZhdWx0OiAnZGVmYXVsdCcsXHJcbiAgICAgICAgSW5uZXI6ICdpbm5lcicsXHJcbiAgICAgICAgT3V0ZXI6ICdvdXRlcidcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbnVtZXJhdGlvbiBmb3IgdHlwZXMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcmVhZG9ubHlcclxuICAgICAqIEBlbnVtIHtTdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIE93bC5UeXBlID0ge1xyXG4gICAgICAgIEV2ZW50OiAnZXZlbnQnLFxyXG4gICAgICAgIFN0YXRlOiAnc3RhdGUnXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udGFpbnMgYWxsIHJlZ2lzdGVyZWQgcGx1Z2lucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLlBsdWdpbnMgPSB7fTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExpc3Qgb2Ygd29ya2VycyBpbnZvbHZlZCBpbiB0aGUgdXBkYXRlIHByb2Nlc3MuXHJcbiAgICAgKi9cclxuICAgIE93bC5Xb3JrZXJzID0gWyB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHRoaXMuJGVsZW1lbnQud2lkdGgoKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKGNhY2hlKSB7XHJcbiAgICAgICAgICAgIGNhY2hlLmN1cnJlbnQgPSB0aGlzLl9pdGVtcyAmJiB0aGlzLl9pdGVtc1t0aGlzLnJlbGF0aXZlKHRoaXMuX2N1cnJlbnQpXTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbignLmNsb25lZCcpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgICAgICAgICAgdmFyIG1hcmdpbiA9IHRoaXMuc2V0dGluZ3MubWFyZ2luIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgZ3JpZCA9ICF0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCxcclxuICAgICAgICAgICAgICAgIHJ0bCA9IHRoaXMuc2V0dGluZ3MucnRsLFxyXG4gICAgICAgICAgICAgICAgY3NzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCc6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLWxlZnQnOiBydGwgPyBtYXJnaW4gOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLXJpZ2h0JzogcnRsID8gJycgOiBtYXJnaW5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAhZ3JpZCAmJiB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmNzcyhjc3MpO1xyXG5cclxuICAgICAgICAgICAgY2FjaGUuY3NzID0gY3NzO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gKHRoaXMud2lkdGgoKSAvIHRoaXMuc2V0dGluZ3MuaXRlbXMpLnRvRml4ZWQoMykgLSB0aGlzLnNldHRpbmdzLm1hcmdpbixcclxuICAgICAgICAgICAgICAgIG1lcmdlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGl0ZXJhdG9yID0gdGhpcy5faXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgZ3JpZCA9ICF0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCxcclxuICAgICAgICAgICAgICAgIHdpZHRocyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgY2FjaGUuaXRlbXMgPSB7XHJcbiAgICAgICAgICAgICAgICBtZXJnZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGhcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChpdGVyYXRvci0tKSB7XHJcbiAgICAgICAgICAgICAgICBtZXJnZSA9IHRoaXMuX21lcmdlcnNbaXRlcmF0b3JdO1xyXG4gICAgICAgICAgICAgICAgbWVyZ2UgPSB0aGlzLnNldHRpbmdzLm1lcmdlRml0ICYmIE1hdGgubWluKG1lcmdlLCB0aGlzLnNldHRpbmdzLml0ZW1zKSB8fCBtZXJnZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYWNoZS5pdGVtcy5tZXJnZSA9IG1lcmdlID4gMSB8fCBjYWNoZS5pdGVtcy5tZXJnZTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aWR0aHNbaXRlcmF0b3JdID0gIWdyaWQgPyB0aGlzLl9pdGVtc1tpdGVyYXRvcl0ud2lkdGgoKSA6IHdpZHRoICogbWVyZ2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3dpZHRocyA9IHdpZHRocztcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgY2xvbmVzID0gW10sXHJcbiAgICAgICAgICAgICAgICBpdGVtcyA9IHRoaXMuX2l0ZW1zLFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzLFxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogU2hvdWxkIGJlIGNvbXB1dGVkIGZyb20gbnVtYmVyIG9mIG1pbiB3aWR0aCBpdGVtcyBpbiBzdGFnZVxyXG4gICAgICAgICAgICAgICAgdmlldyA9IE1hdGgubWF4KHNldHRpbmdzLml0ZW1zICogMiwgNCksXHJcbiAgICAgICAgICAgICAgICBzaXplID0gTWF0aC5jZWlsKGl0ZW1zLmxlbmd0aCAvIDIpICogMixcclxuICAgICAgICAgICAgICAgIHJlcGVhdCA9IHNldHRpbmdzLmxvb3AgJiYgaXRlbXMubGVuZ3RoID8gc2V0dGluZ3MucmV3aW5kID8gdmlldyA6IE1hdGgubWF4KHZpZXcsIHNpemUpIDogMCxcclxuICAgICAgICAgICAgICAgIGFwcGVuZCA9ICcnLFxyXG4gICAgICAgICAgICAgICAgcHJlcGVuZCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgcmVwZWF0IC89IDI7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAocmVwZWF0LS0pIHtcclxuICAgICAgICAgICAgICAgIC8vIFN3aXRjaCB0byBvbmx5IHVzaW5nIGFwcGVuZGVkIGNsb25lc1xyXG4gICAgICAgICAgICAgICAgY2xvbmVzLnB1c2godGhpcy5ub3JtYWxpemUoY2xvbmVzLmxlbmd0aCAvIDIsIHRydWUpKTtcclxuICAgICAgICAgICAgICAgIGFwcGVuZCA9IGFwcGVuZCArIGl0ZW1zW2Nsb25lc1tjbG9uZXMubGVuZ3RoIC0gMV1dWzBdLm91dGVySFRNTDtcclxuICAgICAgICAgICAgICAgIGNsb25lcy5wdXNoKHRoaXMubm9ybWFsaXplKGl0ZW1zLmxlbmd0aCAtIDEgLSAoY2xvbmVzLmxlbmd0aCAtIDEpIC8gMiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgcHJlcGVuZCA9IGl0ZW1zW2Nsb25lc1tjbG9uZXMubGVuZ3RoIC0gMV1dWzBdLm91dGVySFRNTCArIHByZXBlbmQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2Nsb25lcyA9IGNsb25lcztcclxuXHJcbiAgICAgICAgICAgICQoYXBwZW5kKS5hZGRDbGFzcygnY2xvbmVkJykuYXBwZW5kVG8odGhpcy4kc3RhZ2UpO1xyXG4gICAgICAgICAgICAkKHByZXBlbmQpLmFkZENsYXNzKCdjbG9uZWQnKS5wcmVwZW5kVG8odGhpcy4kc3RhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBydGwgPSB0aGlzLnNldHRpbmdzLnJ0bCA/IDEgOiAtMSxcclxuICAgICAgICAgICAgICAgIHNpemUgPSB0aGlzLl9jbG9uZXMubGVuZ3RoICsgdGhpcy5faXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IgPSAtMSxcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gMCxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSAwLFxyXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlICgrK2l0ZXJhdG9yIDwgc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSBjb29yZGluYXRlc1tpdGVyYXRvciAtIDFdIHx8IDA7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5fd2lkdGhzW3RoaXMucmVsYXRpdmUoaXRlcmF0b3IpXSArIHRoaXMuc2V0dGluZ3MubWFyZ2luO1xyXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXMucHVzaChwcmV2aW91cyArIGN1cnJlbnQgKiBydGwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jb29yZGluYXRlcyA9IGNvb3JkaW5hdGVzO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcsXHJcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlcyA9IHRoaXMuX2Nvb3JkaW5hdGVzLFxyXG4gICAgICAgICAgICAgICAgY3NzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCc6IE1hdGguY2VpbChNYXRoLmFicyhjb29yZGluYXRlc1tjb29yZGluYXRlcy5sZW5ndGggLSAxXSkpICsgcGFkZGluZyAqIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3BhZGRpbmctbGVmdCc6IHBhZGRpbmcgfHwgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3BhZGRpbmctcmlnaHQnOiBwYWRkaW5nIHx8ICcnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2UuY3NzKGNzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbihjYWNoZSkge1xyXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9jb29yZGluYXRlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBncmlkID0gIXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgaXRlbXMgPSB0aGlzLiRzdGFnZS5jaGlsZHJlbigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGdyaWQgJiYgY2FjaGUuaXRlbXMubWVyZ2UpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpdGVyYXRvci0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUuY3NzLndpZHRoID0gdGhpcy5fd2lkdGhzW3RoaXMucmVsYXRpdmUoaXRlcmF0b3IpXTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5lcShpdGVyYXRvcikuY3NzKGNhY2hlLmNzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3JpZCkge1xyXG4gICAgICAgICAgICAgICAgY2FjaGUuY3NzLndpZHRoID0gY2FjaGUuaXRlbXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5jc3MoY2FjaGUuY3NzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ2l0ZW1zJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aCA8IDEgJiYgdGhpcy4kc3RhZ2UucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKGNhY2hlKSB7XHJcbiAgICAgICAgICAgIGNhY2hlLmN1cnJlbnQgPSBjYWNoZS5jdXJyZW50ID8gdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5pbmRleChjYWNoZS5jdXJyZW50KSA6IDA7XHJcbiAgICAgICAgICAgIGNhY2hlLmN1cnJlbnQgPSBNYXRoLm1heCh0aGlzLm1pbmltdW0oKSwgTWF0aC5taW4odGhpcy5tYXhpbXVtKCksIGNhY2hlLmN1cnJlbnQpKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNldChjYWNoZS5jdXJyZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICdwb3NpdGlvbicgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUodGhpcy5jb29yZGluYXRlcyh0aGlzLl9jdXJyZW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAncG9zaXRpb24nLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJ0bCA9IHRoaXMuc2V0dGluZ3MucnRsID8gMSA6IC0xLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZyA9IHRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nICogMixcclxuICAgICAgICAgICAgICAgIGJlZ2luID0gdGhpcy5jb29yZGluYXRlcyh0aGlzLmN1cnJlbnQoKSkgKyBwYWRkaW5nLFxyXG4gICAgICAgICAgICAgICAgZW5kID0gYmVnaW4gKyB0aGlzLndpZHRoKCkgKiBydGwsXHJcbiAgICAgICAgICAgICAgICBpbm5lciwgb3V0ZXIsIG1hdGNoZXMgPSBbXSwgaSwgbjtcclxuXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIG4gPSB0aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlubmVyID0gdGhpcy5fY29vcmRpbmF0ZXNbaSAtIDFdIHx8IDA7XHJcbiAgICAgICAgICAgICAgICBvdXRlciA9IE1hdGguYWJzKHRoaXMuX2Nvb3JkaW5hdGVzW2ldKSArIHBhZGRpbmcgKiBydGw7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLm9wKGlubmVyLCAnPD0nLCBiZWdpbikgJiYgKHRoaXMub3AoaW5uZXIsICc+JywgZW5kKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgKHRoaXMub3Aob3V0ZXIsICc8JywgYmVnaW4pICYmIHRoaXMub3Aob3V0ZXIsICc+JywgZW5kKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbignOmVxKCcgKyBtYXRjaGVzLmpvaW4oJyksIDplcSgnKSArICcpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbignLmNlbnRlcicpLnJlbW92ZUNsYXNzKCdjZW50ZXInKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5jdXJyZW50KCkpLmFkZENsYXNzKCdjZW50ZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5lbnRlcignaW5pdGlhbGl6aW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdpbml0aWFsaXplJyk7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3ModGhpcy5zZXR0aW5ncy5ydGxDbGFzcywgdGhpcy5zZXR0aW5ncy5ydGwpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvV2lkdGggJiYgIXRoaXMuaXMoJ3ByZS1sb2FkaW5nJykpIHtcclxuICAgICAgICAgICAgdmFyIGltZ3MsIG5lc3RlZFNlbGVjdG9yLCB3aWR0aDtcclxuICAgICAgICAgICAgaW1ncyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW1nJyk7XHJcbiAgICAgICAgICAgIG5lc3RlZFNlbGVjdG9yID0gdGhpcy5zZXR0aW5ncy5uZXN0ZWRJdGVtU2VsZWN0b3IgPyAnLicgKyB0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvciA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgd2lkdGggPSB0aGlzLiRlbGVtZW50LmNoaWxkcmVuKG5lc3RlZFNlbGVjdG9yKS53aWR0aCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGltZ3MubGVuZ3RoICYmIHdpZHRoIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEF1dG9XaWR0aEltYWdlcyhpbWdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGluZ0NsYXNzKTtcclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIHN0YWdlXHJcbiAgICAgICAgdGhpcy4kc3RhZ2UgPSAkKCc8JyArIHRoaXMuc2V0dGluZ3Muc3RhZ2VFbGVtZW50ICsgJyBjbGFzcz1cIicgKyB0aGlzLnNldHRpbmdzLnN0YWdlQ2xhc3MgKyAnXCIvPicpXHJcbiAgICAgICAgICAgIC53cmFwKCc8ZGl2IGNsYXNzPVwiJyArIHRoaXMuc2V0dGluZ3Muc3RhZ2VPdXRlckNsYXNzICsgJ1wiLz4nKTtcclxuXHJcbiAgICAgICAgLy8gYXBwZW5kIHN0YWdlXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hcHBlbmQodGhpcy4kc3RhZ2UucGFyZW50KCkpO1xyXG5cclxuICAgICAgICAvLyBhcHBlbmQgY29udGVudFxyXG4gICAgICAgIHRoaXMucmVwbGFjZSh0aGlzLiRlbGVtZW50LmNoaWxkcmVuKCkubm90KHRoaXMuJHN0YWdlLnBhcmVudCgpKSk7XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIHZpc2liaWxpdHlcclxuICAgICAgICBpZiAodGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkge1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgdmlld1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBpbnZhbGlkYXRlIHdpZHRoXHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnd2lkdGgnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnRcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sb2FkaW5nQ2xhc3MpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGVkQ2xhc3MpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudEhhbmRsZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMubGVhdmUoJ2luaXRpYWxpemluZycpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlcignaW5pdGlhbGl6ZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR1cHMgdGhlIGN1cnJlbnQgc2V0dGluZ3MuXHJcbiAgICAgKiBAdG9kbyBSZW1vdmUgcmVzcG9uc2l2ZSBjbGFzc2VzLiBXaHkgc2hvdWxkIGFkYXB0aXZlIGRlc2lnbnMgYmUgYnJvdWdodCBpbnRvIElFOD9cclxuICAgICAqIEB0b2RvIFN1cHBvcnQgZm9yIG1lZGlhIHF1ZXJpZXMgYnkgdXNpbmcgYG1hdGNoTWVkaWFgIHdvdWxkIGJlIG5pY2UuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdmlld3BvcnQgPSB0aGlzLnZpZXdwb3J0KCksXHJcbiAgICAgICAgICAgIG92ZXJ3cml0ZXMgPSB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSxcclxuICAgICAgICAgICAgbWF0Y2ggPSAtMSxcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAoIW92ZXJ3cml0ZXMpIHtcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkLmVhY2gob3ZlcndyaXRlcywgZnVuY3Rpb24oYnJlYWtwb2ludCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJyZWFrcG9pbnQgPD0gdmlld3BvcnQgJiYgYnJlYWtwb2ludCA+IG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBOdW1iZXIoYnJlYWtwb2ludCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvdmVyd3JpdGVzW21hdGNoXSk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3Muc3RhZ2VQYWRkaW5nID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5zdGFnZVBhZGRpbmcgPSBzZXR0aW5ncy5zdGFnZVBhZGRpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWxldGUgc2V0dGluZ3MucmVzcG9uc2l2ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlc3BvbnNpdmUgY2xhc3NcclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnJlc3BvbnNpdmVDbGFzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdjbGFzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdjbGFzcycpLnJlcGxhY2UobmV3IFJlZ0V4cCgnKCcgKyB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUNsYXNzICsgJy0pXFxcXFMrXFxcXHMnLCAnZycpLCAnJDEnICsgbWF0Y2gpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZScsIHsgcHJvcGVydHk6IHsgbmFtZTogJ3NldHRpbmdzJywgdmFsdWU6IHNldHRpbmdzIH0gfSk7XHJcbiAgICAgICAgdGhpcy5fYnJlYWtwb2ludCA9IG1hdGNoO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgICAgICB0aGlzLmludmFsaWRhdGUoJ3NldHRpbmdzJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdjaGFuZ2VkJywgeyBwcm9wZXJ0eTogeyBuYW1lOiAnc2V0dGluZ3MnLCB2YWx1ZTogdGhpcy5zZXR0aW5ncyB9IH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgb3B0aW9uIGxvZ2ljIGlmIG5lY2Vzc2VyeS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vcHRpb25zTG9naWMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvV2lkdGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5tZXJnZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVwYXJlcyBhbiBpdGVtIGJlZm9yZSBhZGQuXHJcbiAgICAgKiBAdG9kbyBSZW5hbWUgZXZlbnQgcGFyYW1ldGVyIGBjb250ZW50YCB0byBgaXRlbWAuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcmV0dXJucyB7alF1ZXJ5fEhUTUxFbGVtZW50fSAtIFRoZSBpdGVtIGNvbnRhaW5lci5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5wcmVwYXJlID0gZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgIHZhciBldmVudCA9IHRoaXMudHJpZ2dlcigncHJlcGFyZScsIHsgY29udGVudDogaXRlbSB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFldmVudC5kYXRhKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LmRhdGEgPSAkKCc8JyArIHRoaXMuc2V0dGluZ3MuaXRlbUVsZW1lbnQgKyAnLz4nKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKHRoaXMub3B0aW9ucy5pdGVtQ2xhc3MpLmFwcGVuZChpdGVtKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdwcmVwYXJlZCcsIHsgY29udGVudDogZXZlbnQuZGF0YSB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyB0aGUgdmlldy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgICAgIG4gPSB0aGlzLl9waXBlLmxlbmd0aCxcclxuICAgICAgICAgICAgZmlsdGVyID0gJC5wcm94eShmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzW3BdIH0sIHRoaXMuX2ludmFsaWRhdGVkKSxcclxuICAgICAgICAgICAgY2FjaGUgPSB7fTtcclxuXHJcbiAgICAgICAgd2hpbGUgKGkgPCBuKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnZhbGlkYXRlZC5hbGwgfHwgJC5ncmVwKHRoaXMuX3BpcGVbaV0uZmlsdGVyLCBmaWx0ZXIpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BpcGVbaV0ucnVuKGNhY2hlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlZCA9IHt9O1xyXG5cclxuICAgICAgICAhdGhpcy5pcygndmFsaWQnKSAmJiB0aGlzLmVudGVyKCd2YWxpZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHdpZHRoIG9mIHRoZSB2aWV3LlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtPd2wuV2lkdGh9IFtkaW1lbnNpb249T3dsLldpZHRoLkRlZmF1bHRdIC0gVGhlIGRpbWVuc2lvbiB0byByZXR1cm4uXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSB3aWR0aCBvZiB0aGUgdmlldyBpbiBwaXhlbC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS53aWR0aCA9IGZ1bmN0aW9uKGRpbWVuc2lvbikge1xyXG4gICAgICAgIGRpbWVuc2lvbiA9IGRpbWVuc2lvbiB8fCBPd2wuV2lkdGguRGVmYXVsdDtcclxuICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbikge1xyXG4gICAgICAgICAgICBjYXNlIE93bC5XaWR0aC5Jbm5lcjpcclxuICAgICAgICAgICAgY2FzZSBPd2wuV2lkdGguT3V0ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGggLSB0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyAqIDIgKyB0aGlzLnNldHRpbmdzLm1hcmdpbjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVmcmVzaGVzIHRoZSBjYXJvdXNlbCBwcmltYXJpbHkgZm9yIGFkYXB0aXZlIHB1cnBvc2VzLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmVudGVyKCdyZWZyZXNoaW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZWZyZXNoJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXAoKTtcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zTG9naWMoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucmVmcmVzaENsYXNzKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucmVmcmVzaENsYXNzKTtcclxuXHJcbiAgICAgICAgdGhpcy5sZWF2ZSgncmVmcmVzaGluZycpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlcigncmVmcmVzaGVkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdpbmRvdyBgcmVzaXplYCBldmVudC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vblRocm90dGxlZFJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lcik7XHJcbiAgICAgICAgdGhpcy5yZXNpemVUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2hhbmRsZXJzLm9uUmVzaXplLCB0aGlzLnNldHRpbmdzLnJlc3BvbnNpdmVSZWZyZXNoUmF0ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdpbmRvdyBgcmVzaXplYCBldmVudC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCA9PT0gdGhpcy4kZWxlbWVudC53aWR0aCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVudGVyKCdyZXNpemluZycpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50cmlnZ2VyKCdyZXNpemUnKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxlYXZlKCdyZXNpemluZycpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmludmFsaWRhdGUoJ3dpZHRoJyk7XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICB0aGlzLmxlYXZlKCdyZXNpemluZycpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlcigncmVzaXplZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVycyBldmVudCBoYW5kbGVycy5cclxuICAgICAqIEB0b2RvIENoZWNrIGBtc1BvaW50ZXJFbmFibGVkYFxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlZ2lzdGVyRXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5vbigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQgKyAnLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uVHJhbnNpdGlvbkVuZCwgdGhpcykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5vbih3aW5kb3csICdyZXNpemUnLCB0aGlzLl9oYW5kbGVycy5vblRocm90dGxlZFJlc2l6ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5tb3VzZURyYWcpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZHJhZ0NsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2Uub24oJ21vdXNlZG93bi5vd2wuY29yZScsICQucHJveHkodGhpcy5vbkRyYWdTdGFydCwgdGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5vbignZHJhZ3N0YXJ0Lm93bC5jb3JlIHNlbGVjdHN0YXJ0Lm93bC5jb3JlJywgZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnRvdWNoRHJhZyl7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLm9uKCd0b3VjaHN0YXJ0Lm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ1N0YXJ0LCB0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLm9uKCd0b3VjaGNhbmNlbC5vd2wuY29yZScsICQucHJveHkodGhpcy5vbkRyYWdFbmQsIHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyBgdG91Y2hzdGFydGAgYW5kIGBtb3VzZWRvd25gIGV2ZW50cy5cclxuICAgICAqIEB0b2RvIEhvcml6b250YWwgc3dpcGUgdGhyZXNob2xkIGFzIG9wdGlvblxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgc3RhZ2UgPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCQuc3VwcG9ydC50cmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgc3RhZ2UgPSB0aGlzLiRzdGFnZS5jc3MoJ3RyYW5zZm9ybScpLnJlcGxhY2UoLy4qXFwofFxcKXwgL2csICcnKS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICBzdGFnZSA9IHtcclxuICAgICAgICAgICAgICAgIHg6IHN0YWdlW3N0YWdlLmxlbmd0aCA9PT0gMTYgPyAxMiA6IDRdLFxyXG4gICAgICAgICAgICAgICAgeTogc3RhZ2Vbc3RhZ2UubGVuZ3RoID09PSAxNiA/IDEzIDogNV1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdGFnZSA9IHRoaXMuJHN0YWdlLnBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIHN0YWdlID0ge1xyXG4gICAgICAgICAgICAgICAgeDogdGhpcy5zZXR0aW5ncy5ydGwgP1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWdlLmxlZnQgKyB0aGlzLiRzdGFnZS53aWR0aCgpIC0gdGhpcy53aWR0aCgpICsgdGhpcy5zZXR0aW5ncy5tYXJnaW4gOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YWdlLmxlZnQsXHJcbiAgICAgICAgICAgICAgICB5OiBzdGFnZS50b3BcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzKCdhbmltYXRpbmcnKSkge1xyXG4gICAgICAgICAgICAkLnN1cHBvcnQudHJhbnNmb3JtID8gdGhpcy5hbmltYXRlKHN0YWdlLngpIDogdGhpcy4kc3RhZ2Uuc3RvcCgpXHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgncG9zaXRpb24nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLmdyYWJDbGFzcywgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicpO1xyXG5cclxuICAgICAgICB0aGlzLnNwZWVkKDApO1xyXG5cclxuICAgICAgICB0aGlzLl9kcmFnLnRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICB0aGlzLl9kcmFnLnRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICB0aGlzLl9kcmFnLnN0YWdlLnN0YXJ0ID0gc3RhZ2U7XHJcbiAgICAgICAgdGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50ID0gc3RhZ2U7XHJcbiAgICAgICAgdGhpcy5fZHJhZy5wb2ludGVyID0gdGhpcy5wb2ludGVyKGV2ZW50KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ21vdXNldXAub3dsLmNvcmUgdG91Y2hlbmQub3dsLmNvcmUnLCAkLnByb3h5KHRoaXMub25EcmFnRW5kLCB0aGlzKSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uZSgnbW91c2Vtb3ZlLm93bC5jb3JlIHRvdWNobW92ZS5vd2wuY29yZScsICQucHJveHkoZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIGRlbHRhID0gdGhpcy5kaWZmZXJlbmNlKHRoaXMuX2RyYWcucG9pbnRlciwgdGhpcy5wb2ludGVyKGV2ZW50KSk7XHJcblxyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignbW91c2Vtb3ZlLm93bC5jb3JlIHRvdWNobW92ZS5vd2wuY29yZScsICQucHJveHkodGhpcy5vbkRyYWdNb3ZlLCB0aGlzKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEueCkgPCBNYXRoLmFicyhkZWx0YS55KSAmJiB0aGlzLmlzKCd2YWxpZCcpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVudGVyKCdkcmFnZ2luZycpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2RyYWcnKTtcclxuICAgICAgICB9LCB0aGlzKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyB0aGUgYHRvdWNobW92ZWAgYW5kIGBtb3VzZW1vdmVgIGV2ZW50cy5cclxuICAgICAqIEB0b2RvICMyNjFcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vbkRyYWdNb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgbWluaW11bSA9IG51bGwsXHJcbiAgICAgICAgICAgIG1heGltdW0gPSBudWxsLFxyXG4gICAgICAgICAgICBwdWxsID0gbnVsbCxcclxuICAgICAgICAgICAgZGVsdGEgPSB0aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLCB0aGlzLnBvaW50ZXIoZXZlbnQpKSxcclxuICAgICAgICAgICAgc3RhZ2UgPSB0aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5zdGFnZS5zdGFydCwgZGVsdGEpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXMoJ2RyYWdnaW5nJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubG9vcCkge1xyXG4gICAgICAgICAgICBtaW5pbXVtID0gdGhpcy5jb29yZGluYXRlcyh0aGlzLm1pbmltdW0oKSk7XHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWF4aW11bSgpICsgMSkgLSBtaW5pbXVtO1xyXG4gICAgICAgICAgICBzdGFnZS54ID0gKCgoc3RhZ2UueCAtIG1pbmltdW0pICUgbWF4aW11bSArIG1heGltdW0pICUgbWF4aW11bSkgKyBtaW5pbXVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1pbmltdW0gPSB0aGlzLnNldHRpbmdzLnJ0bCA/IHRoaXMuY29vcmRpbmF0ZXModGhpcy5tYXhpbXVtKCkpIDogdGhpcy5jb29yZGluYXRlcyh0aGlzLm1pbmltdW0oKSk7XHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLnNldHRpbmdzLnJ0bCA/IHRoaXMuY29vcmRpbmF0ZXModGhpcy5taW5pbXVtKCkpIDogdGhpcy5jb29yZGluYXRlcyh0aGlzLm1heGltdW0oKSk7XHJcbiAgICAgICAgICAgIHB1bGwgPSB0aGlzLnNldHRpbmdzLnB1bGxEcmFnID8gLTEgKiBkZWx0YS54IC8gNSA6IDA7XHJcbiAgICAgICAgICAgIHN0YWdlLnggPSBNYXRoLm1heChNYXRoLm1pbihzdGFnZS54LCBtaW5pbXVtICsgcHVsbCksIG1heGltdW0gKyBwdWxsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2RyYWcuc3RhZ2UuY3VycmVudCA9IHN0YWdlO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGUoc3RhZ2UueCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyB0aGUgYHRvdWNoZW5kYCBhbmQgYG1vdXNldXBgIGV2ZW50cy5cclxuICAgICAqIEB0b2RvICMyNjFcclxuICAgICAqIEB0b2RvIFRocmVzaG9sZCBmb3IgY2xpY2sgZXZlbnRcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vbkRyYWdFbmQgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBkZWx0YSA9IHRoaXMuZGlmZmVyZW5jZSh0aGlzLl9kcmFnLnBvaW50ZXIsIHRoaXMucG9pbnRlcihldmVudCkpLFxyXG4gICAgICAgICAgICBzdGFnZSA9IHRoaXMuX2RyYWcuc3RhZ2UuY3VycmVudCxcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gZGVsdGEueCA+IDAgXiB0aGlzLnNldHRpbmdzLnJ0bCA/ICdsZWZ0JyA6ICdyaWdodCc7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9mZignLm93bC5jb3JlJyk7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmdyYWJDbGFzcyk7XHJcblxyXG4gICAgICAgIGlmIChkZWx0YS54ICE9PSAwICYmIHRoaXMuaXMoJ2RyYWdnaW5nJykgfHwgIXRoaXMuaXMoJ3ZhbGlkJykpIHtcclxuICAgICAgICAgICAgdGhpcy5zcGVlZCh0aGlzLnNldHRpbmdzLmRyYWdFbmRTcGVlZCB8fCB0aGlzLnNldHRpbmdzLnNtYXJ0U3BlZWQpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQodGhpcy5jbG9zZXN0KHN0YWdlLngsIGRlbHRhLnggIT09IDAgPyBkaXJlY3Rpb24gOiB0aGlzLl9kcmFnLmRpcmVjdGlvbikpO1xyXG4gICAgICAgICAgICB0aGlzLmludmFsaWRhdGUoJ3Bvc2l0aW9uJyk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9kcmFnLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YS54KSA+IDMgfHwgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLl9kcmFnLnRpbWUgPiAzMDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RyYWcudGFyZ2V0Lm9uZSgnY2xpY2sub3dsLmNvcmUnLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzKCdkcmFnZ2luZycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGVhdmUoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdkcmFnZ2VkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgY2xvc2VzdCBpdGVtIGZvciBhIGNvb3JkaW5hdGUuXHJcbiAgICAgKiBAdG9kbyBTZXR0aW5nIGBmcmVlRHJhZ2AgbWFrZXMgYGNsb3Nlc3RgIG5vdCByZXVzYWJsZS4gU2VlICMxNjUuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY29vcmRpbmF0ZSAtIFRoZSBjb29yZGluYXRlIGluIHBpeGVsLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvbiAtIFRoZSBkaXJlY3Rpb24gdG8gY2hlY2sgZm9yIHRoZSBjbG9zZXN0IGl0ZW0uIEV0aGVyIGBsZWZ0YCBvciBgcmlnaHRgLlxyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgY2xvc2VzdCBpdGVtLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmNsb3Nlc3QgPSBmdW5jdGlvbihjb29yZGluYXRlLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICB2YXIgcG9zaXRpb24gPSAtMSxcclxuICAgICAgICAgICAgcHVsbCA9IDMwLFxyXG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMud2lkdGgoKSxcclxuICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzKCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5mcmVlRHJhZykge1xyXG4gICAgICAgICAgICAvLyBjaGVjayBjbG9zZXN0IGl0ZW1cclxuICAgICAgICAgICAgJC5lYWNoKGNvb3JkaW5hdGVzLCAkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gb24gYSBsZWZ0IHB1bGwsIGNoZWNrIG9uIGN1cnJlbnQgbWFpbi1wYWdlLXBhZ2VcclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0JyAmJiBjb29yZGluYXRlID4gdmFsdWUgLSBwdWxsICYmIGNvb3JkaW5hdGUgPCB2YWx1ZSArIHB1bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGEgcmlnaHQgcHVsbCwgY2hlY2sgb24gcHJldmlvdXMgbWFpbi1wYWdlLXBhZ2VcclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBkbyBzbywgc3VidHJhY3Qgd2lkdGggZnJvbSB2YWx1ZSBhbmQgc2V0IHBvc2l0aW9uID0gbWFpbi1wYWdlLXBhZ2UgKyAxXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyAmJiBjb29yZGluYXRlID4gdmFsdWUgLSB3aWR0aCAtIHB1bGwgJiYgY29vcmRpbmF0ZSA8IHZhbHVlIC0gd2lkdGggKyBwdWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBpbmRleCArIDE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3AoY29vcmRpbmF0ZSwgJzwnLCB2YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAmJiB0aGlzLm9wKGNvb3JkaW5hdGUsICc+JywgY29vcmRpbmF0ZXNbaW5kZXggKyAxXSB8fCB2YWx1ZSAtIHdpZHRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gZGlyZWN0aW9uID09PSAnbGVmdCcgPyBpbmRleCArIDEgOiBpbmRleDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbiA9PT0gLTE7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5sb29wKSB7XHJcbiAgICAgICAgICAgIC8vIG5vbiBsb29wIGJvdW5kcmllc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcChjb29yZGluYXRlLCAnPicsIGNvb3JkaW5hdGVzW3RoaXMubWluaW11bSgpXSkpIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gY29vcmRpbmF0ZSA9IHRoaXMubWluaW11bSgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3AoY29vcmRpbmF0ZSwgJzwnLCBjb29yZGluYXRlc1t0aGlzLm1heGltdW0oKV0pKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGNvb3JkaW5hdGUgPSB0aGlzLm1heGltdW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuaW1hdGVzIHRoZSBzdGFnZS5cclxuICAgICAqIEB0b2RvICMyNzBcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb29yZGluYXRlIC0gVGhlIGNvb3JkaW5hdGUgaW4gcGl4ZWxzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbihjb29yZGluYXRlKSB7XHJcbiAgICAgICAgdmFyIGFuaW1hdGUgPSB0aGlzLnNwZWVkKCkgPiAwO1xyXG5cclxuICAgICAgICB0aGlzLmlzKCdhbmltYXRpbmcnKSAmJiB0aGlzLm9uVHJhbnNpdGlvbkVuZCgpO1xyXG5cclxuICAgICAgICBpZiAoYW5pbWF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVudGVyKCdhbmltYXRpbmcnKTtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCd0cmFuc2xhdGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgkLnN1cHBvcnQudHJhbnNmb3JtM2QgJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2UuY3NzKHtcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKCcgKyBjb29yZGluYXRlICsgJ3B4LDBweCwwcHgpJyxcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICh0aGlzLnNwZWVkKCkgLyAxMDAwKSArICdzJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFuaW1hdGUpIHtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2UuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBjb29yZGluYXRlICsgJ3B4J1xyXG4gICAgICAgICAgICB9LCB0aGlzLnNwZWVkKCksIHRoaXMuc2V0dGluZ3MuZmFsbGJhY2tFYXNpbmcsICQucHJveHkodGhpcy5vblRyYW5zaXRpb25FbmQsIHRoaXMpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgbGVmdDogY29vcmRpbmF0ZSArICdweCdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBjYXJvdXNlbCBpcyBpbiBhIHNwZWNpZmljIHN0YXRlIG9yIG5vdC5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBjaGVjay5cclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSAtIFRoZSBmbGFnIHdoaWNoIGluZGljYXRlcyBpZiB0aGUgY2Fyb3VzZWwgaXMgYnVzeS5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlcy5jdXJyZW50W3N0YXRlXSAmJiB0aGlzLl9zdGF0ZXMuY3VycmVudFtzdGF0ZV0gPiAwO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uXSAtIFRoZSBuZXcgYWJzb2x1dGUgcG9zaXRpb24gb3Igbm90aGluZyB0byBsZWF2ZSBpdCB1bmNoYW5nZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmN1cnJlbnQgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbik7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50ICE9PSBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICB2YXIgZXZlbnQgPSB0aGlzLnRyaWdnZXIoJ2NoYW5nZScsIHsgcHJvcGVydHk6IHsgbmFtZTogJ3Bvc2l0aW9uJywgdmFsdWU6IHBvc2l0aW9uIH0gfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gcG9zaXRpb247XHJcblxyXG4gICAgICAgICAgICB0aGlzLmludmFsaWRhdGUoJ3Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZWQnLCB7IHByb3BlcnR5OiB7IG5hbWU6ICdwb3NpdGlvbicsIHZhbHVlOiB0aGlzLl9jdXJyZW50IH0gfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZhbGlkYXRlcyB0aGUgZ2l2ZW4gcGFydCBvZiB0aGUgdXBkYXRlIHJvdXRpbmUuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3BhcnRdIC0gVGhlIHBhcnQgdG8gaW52YWxpZGF0ZS5cclxuICAgICAqIEByZXR1cm5zIHtBcnJheS48U3RyaW5nPn0gLSBUaGUgaW52YWxpZGF0ZWQgcGFydHMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uKHBhcnQpIHtcclxuICAgICAgICBpZiAoJC50eXBlKHBhcnQpID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnZhbGlkYXRlZFtwYXJ0XSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaXMoJ3ZhbGlkJykgJiYgdGhpcy5sZWF2ZSgndmFsaWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICQubWFwKHRoaXMuX2ludmFsaWRhdGVkLCBmdW5jdGlvbih2LCBpKSB7IHJldHVybiBpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0cyB0aGUgYWJzb2x1dGUgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgbmV3IGl0ZW0uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy5ub3JtYWxpemUocG9zaXRpb24pO1xyXG5cclxuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9zcGVlZCA9IDA7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudCA9IHBvc2l0aW9uO1xyXG5cclxuICAgICAgICB0aGlzLnN1cHByZXNzKFsgJ3RyYW5zbGF0ZScsICd0cmFuc2xhdGVkJyBdKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRlKHRoaXMuY29vcmRpbmF0ZXMocG9zaXRpb24pKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWxlYXNlKFsgJ3RyYW5zbGF0ZScsICd0cmFuc2xhdGVkJyBdKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3JtYWxpemVzIGFuIGFic29sdXRlIG9yIGEgcmVsYXRpdmUgcG9zaXRpb24gb2YgYW4gaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBhYnNvbHV0ZSBvciByZWxhdGl2ZSBwb3NpdGlvbiB0byBub3JtYWxpemUuXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZWxhdGl2ZT1mYWxzZV0gLSBXaGV0aGVyIHRoZSBnaXZlbiBwb3NpdGlvbiBpcyByZWxhdGl2ZSBvciBub3QuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBub3JtYWxpemVkIHBvc2l0aW9uLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHBvc2l0aW9uLCByZWxhdGl2ZSkge1xyXG4gICAgICAgIHZhciBuID0gdGhpcy5faXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBtID0gcmVsYXRpdmUgPyAwIDogdGhpcy5fY2xvbmVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzTnVtZXJpYyhwb3NpdGlvbikgfHwgbiA8IDEpIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA8IDAgfHwgcG9zaXRpb24gPj0gbiArIG0pIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAoKHBvc2l0aW9uIC0gbSAvIDIpICUgbiArIG4pICUgbiArIG0gLyAyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIGFuIGFic29sdXRlIHBvc2l0aW9uIG9mIGFuIGl0ZW0gaW50byBhIHJlbGF0aXZlIG9uZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiB0byBjb252ZXJ0LlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gLSBUaGUgY29udmVydGVkIHBvc2l0aW9uLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlbGF0aXZlID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBwb3NpdGlvbiAtPSB0aGlzLl9jbG9uZXMubGVuZ3RoIC8gMjtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUocG9zaXRpb24sIHRydWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIG1heGltdW0gcG9zaXRpb24gZm9yIHRoZSBjdXJyZW50IGl0ZW0uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZWxhdGl2ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHJldHVybiBhbiBhYnNvbHV0ZSBwb3NpdGlvbiBvciBhIHJlbGF0aXZlIHBvc2l0aW9uLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5tYXhpbXVtID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcclxuICAgICAgICB2YXIgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzLFxyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBpdGVyYXRvcixcclxuICAgICAgICAgICAgcmVjaXByb2NhbEl0ZW1zV2lkdGgsXHJcbiAgICAgICAgICAgIGVsZW1lbnRXaWR0aDtcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmxvb3ApIHtcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyICsgdGhpcy5faXRlbXMubGVuZ3RoIC0gMTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNldHRpbmdzLmF1dG9XaWR0aCB8fCBzZXR0aW5ncy5tZXJnZSkge1xyXG4gICAgICAgICAgICBpdGVyYXRvciA9IHRoaXMuX2l0ZW1zLmxlbmd0aDtcclxuICAgICAgICAgICAgcmVjaXByb2NhbEl0ZW1zV2lkdGggPSB0aGlzLl9pdGVtc1stLWl0ZXJhdG9yXS53aWR0aCgpO1xyXG4gICAgICAgICAgICBlbGVtZW50V2lkdGggPSB0aGlzLiRlbGVtZW50LndpZHRoKCk7XHJcbiAgICAgICAgICAgIHdoaWxlIChpdGVyYXRvci0tKSB7XHJcbiAgICAgICAgICAgICAgICByZWNpcHJvY2FsSXRlbXNXaWR0aCArPSB0aGlzLl9pdGVtc1tpdGVyYXRvcl0ud2lkdGgoKSArIHRoaXMuc2V0dGluZ3MubWFyZ2luO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY2lwcm9jYWxJdGVtc1dpZHRoID4gZWxlbWVudFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWF4aW11bSA9IGl0ZXJhdG9yICsgMTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNldHRpbmdzLmNlbnRlcikge1xyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5faXRlbXMubGVuZ3RoIC0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5faXRlbXMubGVuZ3RoIC0gc2V0dGluZ3MuaXRlbXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVsYXRpdmUpIHtcclxuICAgICAgICAgICAgbWF4aW11bSAtPSB0aGlzLl9jbG9uZXMubGVuZ3RoIC8gMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBNYXRoLm1heChtYXhpbXVtLCAwKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBtaW5pbXVtIHBvc2l0aW9uIGZvciB0aGUgY3VycmVudCBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmVsYXRpdmU9ZmFsc2VdIC0gV2hldGhlciB0byByZXR1cm4gYW4gYWJzb2x1dGUgcG9zaXRpb24gb3IgYSByZWxhdGl2ZSBwb3NpdGlvbi5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubWluaW11bSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlbGF0aXZlID8gMCA6IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYW4gaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHJlbGF0aXZlIHBvc2l0aW9uLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbl0gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl8QXJyYXkuPGpRdWVyeT59IC0gVGhlIGl0ZW0gYXQgdGhlIGdpdmVuIHBvc2l0aW9uIG9yIGFsbCBpdGVtcyBpZiBubyBwb3NpdGlvbiB3YXMgZ2l2ZW4uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuaXRlbXMgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVtcy5zbGljZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW3Bvc2l0aW9uXTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFuIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCByZWxhdGl2ZSBwb3NpdGlvbi5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb25dIC0gVGhlIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHRoZSBpdGVtLlxyXG4gICAgICogQHJldHVybiB7alF1ZXJ5fEFycmF5LjxqUXVlcnk+fSAtIFRoZSBpdGVtIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiBvciBhbGwgaXRlbXMgaWYgbm8gcG9zaXRpb24gd2FzIGdpdmVuLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm1lcmdlcnMgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZXJnZXJzLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWVyZ2Vyc1twb3NpdGlvbl07XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgYWJzb2x1dGUgcG9zaXRpb25zIG9mIGNsb25lcyBmb3IgYW4gaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb25dIC0gVGhlIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHRoZSBpdGVtLlxyXG4gICAgICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fSAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbnMgb2YgY2xvbmVzIGZvciB0aGUgaXRlbSBvciBhbGwgaWYgbm8gcG9zaXRpb24gd2FzIGdpdmVuLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmNsb25lcyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIG9kZCA9IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyLFxyXG4gICAgICAgICAgICBldmVuID0gb2RkICsgdGhpcy5faXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBtYXAgPSBmdW5jdGlvbihpbmRleCkgeyByZXR1cm4gaW5kZXggJSAyID09PSAwID8gZXZlbiArIGluZGV4IC8gMiA6IG9kZCAtIChpbmRleCArIDEpIC8gMiB9O1xyXG5cclxuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJC5tYXAodGhpcy5fY2xvbmVzLCBmdW5jdGlvbih2LCBpKSB7IHJldHVybiBtYXAoaSkgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJC5tYXAodGhpcy5fY2xvbmVzLCBmdW5jdGlvbih2LCBpKSB7IHJldHVybiB2ID09PSBwb3NpdGlvbiA/IG1hcChpKSA6IG51bGwgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBhbmltYXRpb24gc3BlZWQuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSBhbmltYXRpb24gc3BlZWQgaW4gbWlsbGlzZWNvbmRzIG9yIG5vdGhpbmcgdG8gbGVhdmUgaXQgdW5jaGFuZ2VkLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gLSBUaGUgY3VycmVudCBhbmltYXRpb24gc3BlZWQgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnNwZWVkID0gZnVuY3Rpb24oc3BlZWQpIHtcclxuICAgICAgICBpZiAoc3BlZWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zcGVlZCA9IHNwZWVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGNvb3JkaW5hdGUgb2YgYW4gaXRlbS5cclxuICAgICAqIEB0b2RvIFRoZSBuYW1lIG9mIHRoaXMgbWV0aG9kIGlzIG1pc3NsZWFuZGluZy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbSB3aXRoaW4gYG1pbmltdW0oKWAgYW5kIGBtYXhpbXVtKClgLlxyXG4gICAgICogQHJldHVybnMge051bWJlcnxBcnJheS48TnVtYmVyPn0gLSBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgaXRlbSBpbiBwaXhlbCBvciBhbGwgY29vcmRpbmF0ZXMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuY29vcmRpbmF0ZXMgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIHZhciBtdWx0aXBsaWVyID0gMSxcclxuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBwb3NpdGlvbiAtIDEsXHJcbiAgICAgICAgICAgIGNvb3JkaW5hdGU7XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkLm1hcCh0aGlzLl9jb29yZGluYXRlcywgJC5wcm94eShmdW5jdGlvbihjb29yZGluYXRlLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29vcmRpbmF0ZXMoaW5kZXgpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5jZW50ZXIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucnRsKSB7XHJcbiAgICAgICAgICAgICAgICBtdWx0aXBsaWVyID0gLTE7XHJcbiAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbiA9IHBvc2l0aW9uICsgMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29vcmRpbmF0ZSA9IHRoaXMuX2Nvb3JkaW5hdGVzW3Bvc2l0aW9uXTtcclxuICAgICAgICAgICAgY29vcmRpbmF0ZSArPSAodGhpcy53aWR0aCgpIC0gY29vcmRpbmF0ZSArICh0aGlzLl9jb29yZGluYXRlc1tuZXdQb3NpdGlvbl0gfHwgMCkpIC8gMiAqIG11bHRpcGxpZXI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29vcmRpbmF0ZSA9IHRoaXMuX2Nvb3JkaW5hdGVzW25ld1Bvc2l0aW9uXSB8fCAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29vcmRpbmF0ZSA9IE1hdGguY2VpbChjb29yZGluYXRlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNvb3JkaW5hdGU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgc3BlZWQgZm9yIGEgdHJhbnNsYXRpb24uXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZnJvbSAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgc3RhcnQgaXRlbS5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0byAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgdGFyZ2V0IGl0ZW0uXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2ZhY3Rvcj11bmRlZmluZWRdIC0gVGhlIHRpbWUgZmFjdG9yIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNsYXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuZHVyYXRpb24gPSBmdW5jdGlvbihmcm9tLCB0bywgZmFjdG9yKSB7XHJcbiAgICAgICAgaWYgKGZhY3RvciA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChNYXRoLmFicyh0byAtIGZyb20pLCAxKSwgNikgKiBNYXRoLmFicygoZmFjdG9yIHx8IHRoaXMuc2V0dGluZ3Muc21hcnRTcGVlZCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNsaWRlcyB0byB0aGUgc3BlY2lmaWVkIGl0ZW0uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gLSBUaGUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbihwb3NpdGlvbiwgc3BlZWQpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuY3VycmVudCgpLFxyXG4gICAgICAgICAgICByZXZlcnQgPSBudWxsLFxyXG4gICAgICAgICAgICBkaXN0YW5jZSA9IHBvc2l0aW9uIC0gdGhpcy5yZWxhdGl2ZShjdXJyZW50KSxcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gKGRpc3RhbmNlID4gMCkgLSAoZGlzdGFuY2UgPCAwKSxcclxuICAgICAgICAgICAgaXRlbXMgPSB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG1pbmltdW0gPSB0aGlzLm1pbmltdW0oKSxcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMubWF4aW11bSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5sb29wKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5yZXdpbmQgJiYgTWF0aC5hYnMoZGlzdGFuY2UpID4gaXRlbXMgLyAyKSB7XHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSArPSBkaXJlY3Rpb24gKiAtMSAqIGl0ZW1zO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IGN1cnJlbnQgKyBkaXN0YW5jZTtcclxuICAgICAgICAgICAgcmV2ZXJ0ID0gKChwb3NpdGlvbiAtIG1pbmltdW0pICUgaXRlbXMgKyBpdGVtcykgJSBpdGVtcyArIG1pbmltdW07XHJcblxyXG4gICAgICAgICAgICBpZiAocmV2ZXJ0ICE9PSBwb3NpdGlvbiAmJiByZXZlcnQgLSBkaXN0YW5jZSA8PSBtYXhpbXVtICYmIHJldmVydCAtIGRpc3RhbmNlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHJldmVydCAtIGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSByZXZlcnQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNldHRpbmdzLnJld2luZCkge1xyXG4gICAgICAgICAgICBtYXhpbXVtICs9IDE7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gKHBvc2l0aW9uICUgbWF4aW11bSArIG1heGltdW0pICUgbWF4aW11bTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IE1hdGgubWF4KG1pbmltdW0sIE1hdGgubWluKG1heGltdW0sIHBvc2l0aW9uKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwZWVkKHRoaXMuZHVyYXRpb24oY3VycmVudCwgcG9zaXRpb24sIHNwZWVkKSk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50KHBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBuZXh0IGl0ZW0uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKHNwZWVkKSB7XHJcbiAgICAgICAgc3BlZWQgPSBzcGVlZCB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLnRvKHRoaXMucmVsYXRpdmUodGhpcy5jdXJyZW50KCkpICsgMSwgc3BlZWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNsaWRlcyB0byB0aGUgcHJldmlvdXMgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24oc3BlZWQpIHtcclxuICAgICAgICBzcGVlZCA9IHNwZWVkIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudG8odGhpcy5yZWxhdGl2ZSh0aGlzLmN1cnJlbnQoKSkgLSAxLCBzcGVlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyB0aGUgZW5kIG9mIGFuIGFuaW1hdGlvbi5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vblRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgICAvLyBpZiBjc3MyIGFuaW1hdGlvbiB0aGVuIGV2ZW50IG9iamVjdCBpcyB1bmRlZmluZWRcclxuICAgICAgICBpZiAoZXZlbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENhdGNoIG9ubHkgb3dsLXN0YWdlIHRyYW5zaXRpb25FbmQgZXZlbnRcclxuICAgICAgICAgICAgaWYgKChldmVudC50YXJnZXQgfHwgZXZlbnQuc3JjRWxlbWVudCB8fCBldmVudC5vcmlnaW5hbFRhcmdldCkgIT09IHRoaXMuJHN0YWdlLmdldCgwKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxlYXZlKCdhbmltYXRpbmcnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3RyYW5zbGF0ZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHZpZXdwb3J0IHdpZHRoLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAtIFRoZSB3aWR0aCBpbiBwaXhlbC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS52aWV3cG9ydCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB3aWR0aDtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlc3BvbnNpdmVCYXNlRWxlbWVudCAhPT0gd2luZG93KSB7XHJcbiAgICAgICAgICAgIHdpZHRoID0gJCh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUJhc2VFbGVtZW50KS53aWR0aCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LmlubmVyV2lkdGgpIHtcclxuICAgICAgICAgICAgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIHtcclxuICAgICAgICAgICAgd2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDYW4gbm90IGRldGVjdCB2aWV3cG9ydCB3aWR0aC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlcGxhY2VzIHRoZSBjdXJyZW50IGNvbnRlbnQuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fGpRdWVyeXxTdHJpbmd9IGNvbnRlbnQgLSBUaGUgbmV3IGNvbnRlbnQuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuICAgICAgICB0aGlzLiRzdGFnZS5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gW107XHJcblxyXG4gICAgICAgIGlmIChjb250ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSAoY29udGVudCBpbnN0YW5jZW9mIGpRdWVyeSkgPyBjb250ZW50IDogJChjb250ZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3Rvcikge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5maW5kKCcuJyArIHRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnRlbnQuZmlsdGVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub2RlVHlwZSA9PT0gMTtcclxuICAgICAgICB9KS5lYWNoKCQucHJveHkoZnVuY3Rpb24oaW5kZXgsIGl0ZW0pIHtcclxuICAgICAgICAgICAgaXRlbSA9IHRoaXMucHJlcGFyZShpdGVtKTtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2UuYXBwZW5kKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLl9tZXJnZXJzLnB1c2goaXRlbS5maW5kKCdbZGF0YS1tZXJnZV0nKS5hZGRCYWNrKCdbZGF0YS1tZXJnZV0nKS5hdHRyKCdkYXRhLW1lcmdlJykgKiAxIHx8IDEpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNldCh0aGlzLmlzTnVtZXJpYyh0aGlzLnNldHRpbmdzLnN0YXJ0UG9zaXRpb24pID8gdGhpcy5zZXR0aW5ncy5zdGFydFBvc2l0aW9uIDogMCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnaXRlbXMnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGFuIGl0ZW0uXHJcbiAgICAgKiBAdG9kbyBVc2UgYGl0ZW1gIGluc3RlYWQgb2YgYGNvbnRlbnRgIGZvciB0aGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxqUXVlcnl8U3RyaW5nfSBjb250ZW50IC0gVGhlIGl0ZW0gY29udGVudCB0byBhZGQuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uXSAtIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiBhdCB3aGljaCB0byBpbnNlcnQgdGhlIGl0ZW0gb3RoZXJ3aXNlIHRoZSBpdGVtIHdpbGwgYmUgYWRkZWQgdG8gdGhlIGVuZC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihjb250ZW50LCBwb3NpdGlvbikge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5yZWxhdGl2ZSh0aGlzLl9jdXJyZW50KTtcclxuXHJcbiAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gdW5kZWZpbmVkID8gdGhpcy5faXRlbXMubGVuZ3RoIDogdGhpcy5ub3JtYWxpemUocG9zaXRpb24sIHRydWUpO1xyXG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50IGluc3RhbmNlb2YgalF1ZXJ5ID8gY29udGVudCA6ICQoY29udGVudCk7XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcignYWRkJywgeyBjb250ZW50OiBjb250ZW50LCBwb3NpdGlvbjogcG9zaXRpb24gfSk7XHJcblxyXG4gICAgICAgIGNvbnRlbnQgPSB0aGlzLnByZXBhcmUoY29udGVudCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9pdGVtcy5sZW5ndGggPT09IDAgfHwgcG9zaXRpb24gPT09IHRoaXMuX2l0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5sZW5ndGggPT09IDAgJiYgdGhpcy4kc3RhZ2UuYXBwZW5kKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5sZW5ndGggIT09IDAgJiYgdGhpcy5faXRlbXNbcG9zaXRpb24gLSAxXS5hZnRlcihjb250ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5faXRlbXMucHVzaChjb250ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5fbWVyZ2Vycy5wdXNoKGNvbnRlbnQuZmluZCgnW2RhdGEtbWVyZ2VdJykuYWRkQmFjaygnW2RhdGEtbWVyZ2VdJykuYXR0cignZGF0YS1tZXJnZScpICogMSB8fCAxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtc1twb3NpdGlvbl0uYmVmb3JlKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5zcGxpY2UocG9zaXRpb24sIDAsIGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tZXJnZXJzLnNwbGljZShwb3NpdGlvbiwgMCwgY29udGVudC5maW5kKCdbZGF0YS1tZXJnZV0nKS5hZGRCYWNrKCdbZGF0YS1tZXJnZV0nKS5hdHRyKCdkYXRhLW1lcmdlJykgKiAxIHx8IDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faXRlbXNbY3VycmVudF0gJiYgdGhpcy5yZXNldCh0aGlzLl9pdGVtc1tjdXJyZW50XS5pbmRleCgpKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCdpdGVtcycpO1xyXG5cclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2FkZGVkJywgeyBjb250ZW50OiBjb250ZW50LCBwb3NpdGlvbjogcG9zaXRpb24gfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGJ5IGl0cyBwb3NpdGlvbi5cclxuICAgICAqIEB0b2RvIFVzZSBgaXRlbWAgaW5zdGVhZCBvZiBgY29udGVudGAgZm9yIHRoZSBldmVudCBhcmd1bWVudHMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0gdG8gcmVtb3ZlLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcigncmVtb3ZlJywgeyBjb250ZW50OiB0aGlzLl9pdGVtc1twb3NpdGlvbl0sIHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5faXRlbXNbcG9zaXRpb25dLnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zLnNwbGljZShwb3NpdGlvbiwgMSk7XHJcbiAgICAgICAgdGhpcy5fbWVyZ2Vycy5zcGxpY2UocG9zaXRpb24sIDEpO1xyXG5cclxuICAgICAgICB0aGlzLmludmFsaWRhdGUoJ2l0ZW1zJyk7XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcigncmVtb3ZlZCcsIHsgY29udGVudDogbnVsbCwgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZWxvYWRzIGltYWdlcyB3aXRoIGF1dG8gd2lkdGguXHJcbiAgICAgKiBAdG9kbyBSZXBsYWNlIGJ5IGEgbW9yZSBnZW5lcmljIGFwcHJvYWNoXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucHJlbG9hZEF1dG9XaWR0aEltYWdlcyA9IGZ1bmN0aW9uKGltYWdlcykge1xyXG4gICAgICAgIGltYWdlcy5lYWNoKCQucHJveHkoZnVuY3Rpb24oaSwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmVudGVyKCdwcmUtbG9hZGluZycpO1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gJChlbGVtZW50KTtcclxuICAgICAgICAgICAgJChuZXcgSW1hZ2UoKSkub25lKCdsb2FkJywgJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoJ3NyYycsIGUudGFyZ2V0LnNyYyk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNzcygnb3BhY2l0eScsIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZWF2ZSgncHJlLWxvYWRpbmcnKTtcclxuICAgICAgICAgICAgICAgICF0aGlzLmlzKCdwcmUtbG9hZGluZycpICYmICF0aGlzLmlzKCdpbml0aWFsaXppbmcnKSAmJiB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfSwgdGhpcykpLmF0dHIoJ3NyYycsIGVsZW1lbnQuYXR0cignc3JjJykgfHwgZWxlbWVudC5hdHRyKCdkYXRhLXNyYycpIHx8IGVsZW1lbnQuYXR0cignZGF0YS1zcmMtcmV0aW5hJykpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95cyB0aGUgY2Fyb3VzZWwuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9mZignLm93bC5jb3JlJyk7XHJcbiAgICAgICAgdGhpcy4kc3RhZ2Uub2ZmKCcub3dsLmNvcmUnKTtcclxuICAgICAgICAkKGRvY3VtZW50KS5vZmYoJy5vd2wuY29yZScpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5yZXNwb25zaXZlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZXIpO1xyXG4gICAgICAgICAgICB0aGlzLm9mZih3aW5kb3csICdyZXNpemUnLCB0aGlzLl9oYW5kbGVycy5vblRocm90dGxlZFJlc2l6ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuX3BsdWdpbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGx1Z2luc1tpXS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbignLmNsb25lZCcpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLiRzdGFnZS51bndyYXAoKTtcclxuICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmNvbnRlbnRzKCkudW53cmFwKCk7XHJcbiAgICAgICAgdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS51bndyYXAoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudFxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnJlZnJlc2hDbGFzcylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sb2FkaW5nQ2xhc3MpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGVkQ2xhc3MpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucnRsQ2xhc3MpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZHJhZ0NsYXNzKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmdyYWJDbGFzcylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgdGhpcy4kZWxlbWVudC5hdHRyKCdjbGFzcycpLnJlcGxhY2UobmV3IFJlZ0V4cCh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUNsYXNzICsgJy1cXFxcUytcXFxccycsICdnJyksICcnKSlcclxuICAgICAgICAgICAgLnJlbW92ZURhdGEoJ293bC5jYXJvdXNlbCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZXJhdG9ycyB0byBjYWxjdWxhdGUgcmlnaHQtdG8tbGVmdCBhbmQgbGVmdC10by1yaWdodC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYV0gLSBUaGUgbGVmdCBzaWRlIG9wZXJhbmQuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29dIC0gVGhlIG9wZXJhdG9yLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtiXSAtIFRoZSByaWdodCBzaWRlIG9wZXJhbmQuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUub3AgPSBmdW5jdGlvbihhLCBvLCBiKSB7XHJcbiAgICAgICAgdmFyIHJ0bCA9IHRoaXMuc2V0dGluZ3MucnRsO1xyXG4gICAgICAgIHN3aXRjaCAobykge1xyXG4gICAgICAgICAgICBjYXNlICc8JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBydGwgPyBhID4gYiA6IGEgPCBiO1xyXG4gICAgICAgICAgICBjYXNlICc+JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBydGwgPyBhIDwgYiA6IGEgPiBiO1xyXG4gICAgICAgICAgICBjYXNlICc+PSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcnRsID8gYSA8PSBiIDogYSA+PSBiO1xyXG4gICAgICAgICAgICBjYXNlICc8PSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcnRsID8gYSA+PSBiIDogYSA8PSBiO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEF0dGFjaGVzIHRvIGFuIGludGVybmFsIGV2ZW50LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBldmVudCBzb3VyY2UuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgLSBUaGUgZXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIC0gVGhlIGV2ZW50IGhhbmRsZXIgdG8gYXR0YWNoLlxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlIC0gV2V0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgaGFuZGxlZCBhdCB0aGUgY2FwdHVyaW5nIHBoYXNlIG9yIG5vdC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBsaXN0ZW5lciwgY2FwdHVyZSkge1xyXG4gICAgICAgIGlmIChlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgY2FwdHVyZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGFjaGVzIGZyb20gYW4gaW50ZXJuYWwgZXZlbnQuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gVGhlIGV2ZW50IHNvdXJjZS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCAtIFRoZSBldmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgLSBUaGUgYXR0YWNoZWQgZXZlbnQgaGFuZGxlciB0byBkZXRhY2guXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmUgLSBXZXRoZXIgdGhlIGF0dGFjaGVkIGV2ZW50IGhhbmRsZXIgd2FzIHJlZ2lzdGVyZWQgYXMgYSBjYXB0dXJpbmcgbGlzdGVuZXIgb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBsaXN0ZW5lciwgY2FwdHVyZSkge1xyXG4gICAgICAgIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgY2FwdHVyZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmRldGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXJzIGEgcHVibGljIGV2ZW50LlxyXG4gICAgICogQHRvZG8gUmVtb3ZlIGBzdGF0dXNgLCBgcmVsYXRlZFRhcmdldGAgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gVGhlIGV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0geyp9IFtkYXRhPW51bGxdIC0gVGhlIGV2ZW50IGRhdGEuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVzcGFjZT1jYXJvdXNlbF0gLSBUaGUgZXZlbnQgbmFtZXNwYWNlLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtzdGF0ZV0gLSBUaGUgc3RhdGUgd2hpY2ggaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBldmVudC5cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2VudGVyPWZhbHNlXSAtIEluZGljYXRlcyBpZiB0aGUgY2FsbCBlbnRlcnMgdGhlIHNwZWNpZmllZCBzdGF0ZSBvciBub3QuXHJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnR9IC0gVGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24obmFtZSwgZGF0YSwgbmFtZXNwYWNlLCBzdGF0ZSwgZW50ZXIpIHtcclxuICAgICAgICB2YXIgc3RhdHVzID0ge1xyXG4gICAgICAgICAgICBpdGVtOiB7IGNvdW50OiB0aGlzLl9pdGVtcy5sZW5ndGgsIGluZGV4OiB0aGlzLmN1cnJlbnQoKSB9XHJcbiAgICAgICAgfSwgaGFuZGxlciA9ICQuY2FtZWxDYXNlKFxyXG4gICAgICAgICAgICAkLmdyZXAoWyAnb24nLCBuYW1lLCBuYW1lc3BhY2UgXSwgZnVuY3Rpb24odikgeyByZXR1cm4gdiB9KVxyXG4gICAgICAgICAgICAgICAgLmpvaW4oJy0nKS50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgKSwgZXZlbnQgPSAkLkV2ZW50KFxyXG4gICAgICAgICAgICBbIG5hbWUsICdvd2wnLCBuYW1lc3BhY2UgfHwgJ2Nhcm91c2VsJyBdLmpvaW4oJy4nKS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAgICAkLmV4dGVuZCh7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfSwgc3RhdHVzLCBkYXRhKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5fc3VwcmVzc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAkLmVhY2godGhpcy5fcGx1Z2lucywgZnVuY3Rpb24obmFtZSwgcGx1Z2luKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLm9uVHJpZ2dlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5vblRyaWdnZXIoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoeyB0eXBlOiBPd2wuVHlwZS5FdmVudCwgbmFtZTogbmFtZSB9KTtcclxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzICYmIHR5cGVvZiB0aGlzLnNldHRpbmdzW2hhbmRsZXJdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzW2hhbmRsZXJdLmNhbGwodGhpcywgZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRW50ZXJzIGEgc3RhdGUuXHJcbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBzdGF0ZSBuYW1lLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgICQuZWFjaChbIG5hbWUgXS5jb25jYXQodGhpcy5fc3RhdGVzLnRhZ3NbbmFtZV0gfHwgW10pLCAkLnByb3h5KGZ1bmN0aW9uKGksIG5hbWUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXRlcy5jdXJyZW50W25hbWVdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlcy5jdXJyZW50W25hbWVdID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fc3RhdGVzLmN1cnJlbnRbbmFtZV0rKztcclxuICAgICAgICB9LCB0aGlzKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGVhdmVzIGEgc3RhdGUuXHJcbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBzdGF0ZSBuYW1lLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmxlYXZlID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgICQuZWFjaChbIG5hbWUgXS5jb25jYXQodGhpcy5fc3RhdGVzLnRhZ3NbbmFtZV0gfHwgW10pLCAkLnByb3h5KGZ1bmN0aW9uKGksIG5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGVzLmN1cnJlbnRbbmFtZV0tLTtcclxuICAgICAgICB9LCB0aGlzKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXJzIGFuIGV2ZW50IG9yIHN0YXRlLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIFRoZSBldmVudCBvciBzdGF0ZSB0byByZWdpc3Rlci5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uKG9iamVjdCkge1xyXG4gICAgICAgIGlmIChvYmplY3QudHlwZSA9PT0gT3dsLlR5cGUuRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCEkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdID0ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghJC5ldmVudC5zcGVjaWFsW29iamVjdC5uYW1lXS5vd2wpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfZGVmYXVsdCA9ICQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0uX2RlZmF1bHQ7XHJcbiAgICAgICAgICAgICAgICAkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdLl9kZWZhdWx0ID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGVmYXVsdCAmJiBfZGVmYXVsdC5hcHBseSAmJiAoIWUubmFtZXNwYWNlIHx8IGUubmFtZXNwYWNlLmluZGV4T2YoJ293bCcpID09PSAtMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9kZWZhdWx0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLm5hbWVzcGFjZSAmJiBlLm5hbWVzcGFjZS5pbmRleE9mKCdvd2wnKSA+IC0xO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0ub3dsID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAob2JqZWN0LnR5cGUgPT09IE93bC5UeXBlLlN0YXRlKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0gPSBvYmplY3QudGFncztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSA9IHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXS5jb25jYXQob2JqZWN0LnRhZ3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0gPSAkLmdyZXAodGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdLCAkLnByb3h5KGZ1bmN0aW9uKHRhZywgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQuaW5BcnJheSh0YWcsIHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSkgPT09IGk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3VwcHJlc3NlcyBldmVudHMuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBldmVudHMgLSBUaGUgZXZlbnRzIHRvIHN1cHByZXNzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnN1cHByZXNzID0gZnVuY3Rpb24oZXZlbnRzKSB7XHJcbiAgICAgICAgJC5lYWNoKGV2ZW50cywgJC5wcm94eShmdW5jdGlvbihpbmRleCwgZXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VwcmVzc1tldmVudF0gPSB0cnVlO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWxlYXNlcyBzdXBwcmVzc2VkIGV2ZW50cy5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IGV2ZW50cyAtIFRoZSBldmVudHMgdG8gcmVsZWFzZS5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24oZXZlbnRzKSB7XHJcbiAgICAgICAgJC5lYWNoKGV2ZW50cywgJC5wcm94eShmdW5jdGlvbihpbmRleCwgZXZlbnQpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3N1cHJlc3NbZXZlbnRdO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHVuaWZpZWQgcG9pbnRlciBjb29yZGluYXRlcyBmcm9tIGV2ZW50LlxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gLSBUaGUgYG1vdXNlZG93bmAgb3IgYHRvdWNoc3RhcnRgIGV2ZW50LlxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gLSBDb250YWlucyBgeGAgYW5kIGB5YCBjb29yZGluYXRlcyBvZiBjdXJyZW50IHBvaW50ZXIgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucG9pbnRlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHsgeDogbnVsbCwgeTogbnVsbCB9O1xyXG5cclxuICAgICAgICBldmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfHwgZXZlbnQgfHwgd2luZG93LmV2ZW50O1xyXG5cclxuICAgICAgICBldmVudCA9IGV2ZW50LnRvdWNoZXMgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGggP1xyXG4gICAgICAgICAgICBldmVudC50b3VjaGVzWzBdIDogZXZlbnQuY2hhbmdlZFRvdWNoZXMgJiYgZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID9cclxuICAgICAgICAgICAgICAgIGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdIDogZXZlbnQ7XHJcblxyXG4gICAgICAgIGlmIChldmVudC5wYWdlWCkge1xyXG4gICAgICAgICAgICByZXN1bHQueCA9IGV2ZW50LnBhZ2VYO1xyXG4gICAgICAgICAgICByZXN1bHQueSA9IGV2ZW50LnBhZ2VZO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC54ID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICAgICAgcmVzdWx0LnkgPSBldmVudC5jbGllbnRZO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBpbnB1dCBpcyBhIE51bWJlciBvciBzb21ldGhpbmcgdGhhdCBjYW4gYmUgY29lcmNlZCB0byBhIE51bWJlclxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfE9iamVjdHxBcnJheXxCb29sZWFufFJlZ0V4cHxGdW5jdGlvbnxTeW1ib2x9IC0gVGhlIGlucHV0IHRvIGJlIHRlc3RlZFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IC0gQW4gaW5kaWNhdGlvbiBpZiB0aGUgaW5wdXQgaXMgYSBOdW1iZXIgb3IgY2FuIGJlIGNvZXJjZWQgdG8gYSBOdW1iZXJcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pc051bWVyaWMgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobnVtYmVyKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgZGlmZmVyZW5jZSBvZiB0d28gdmVjdG9ycy5cclxuICAgICAqIEB0b2RvICMyNjFcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gLSBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IC0gVGhlIGRpZmZlcmVuY2UuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGZpcnN0LCBzZWNvbmQpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiBmaXJzdC54IC0gc2Vjb25kLngsXHJcbiAgICAgICAgICAgIHk6IGZpcnN0LnkgLSBzZWNvbmQueVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGpRdWVyeSBQbHVnaW4gZm9yIHRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqIEB0b2RvIE5hdmlnYXRpb24gcGx1Z2luIGBuZXh0YCBhbmQgYHByZXZgXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwgPSBmdW5jdGlvbihvcHRpb24pIHtcclxuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnb3dsLmNhcm91c2VsJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgT3dsKHRoaXMsIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKTtcclxuICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ293bC5jYXJvdXNlbCcsIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaChbXHJcbiAgICAgICAgICAgICAgICAgICAgJ25leHQnLCAncHJldicsICd0bycsICdkZXN0cm95JywgJ3JlZnJlc2gnLCAncmVwbGFjZScsICdhZGQnLCAncmVtb3ZlJ1xyXG4gICAgICAgICAgICAgICAgXSwgZnVuY3Rpb24oaSwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnJlZ2lzdGVyKHsgdHlwZTogT3dsLlR5cGUuRXZlbnQsIG5hbWU6IGV2ZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuJGVsZW1lbnQub24oZXZlbnQgKyAnLm93bC5jYXJvdXNlbC5jb3JlJywgJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiBlLnJlbGF0ZWRUYXJnZXQgIT09IHRoaXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VwcHJlc3MoWyBldmVudCBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZXZlbnRdLmFwcGx5KHRoaXMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2UoWyBldmVudCBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyAmJiBvcHRpb24uY2hhckF0KDApICE9PSAnXycpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFbb3B0aW9uXS5hcHBseShkYXRhLCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIGpRdWVyeSBQbHVnaW5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3RvciA9IE93bDtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBBdXRvUmVmcmVzaCBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBhdXRvIHJlZnJlc2ggcGx1Z2luLlxyXG4gICAgICogQGNsYXNzIFRoZSBBdXRvIFJlZnJlc2ggUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBBdXRvUmVmcmVzaCA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmcmVzaCBpbnRlcnZhbC5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIGVsZW1lbnQgaXMgY3VycmVudGx5IHZpc2libGUgb3Igbm90LlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl92aXNpYmxlID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvUmVmcmVzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2F0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIEF1dG9SZWZyZXNoLkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQXV0b1JlZnJlc2guRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgYXV0b1JlZnJlc2g6IHRydWUsXHJcbiAgICAgICAgYXV0b1JlZnJlc2hJbnRlcnZhbDogNTAwXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2F0Y2hlcyB0aGUgZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgQXV0b1JlZnJlc2gucHJvdG90eXBlLndhdGNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSB0aGlzLl9jb3JlLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpO1xyXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gd2luZG93LnNldEludGVydmFsKCQucHJveHkodGhpcy5yZWZyZXNoLCB0aGlzKSwgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvUmVmcmVzaEludGVydmFsKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWZyZXNoZXMgdGhlIGVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIEF1dG9SZWZyZXNoLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NvcmUuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykgPT09IHRoaXMuX3Zpc2libGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9ICF0aGlzLl92aXNpYmxlO1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCdvd2wtaGlkZGVuJywgIXRoaXMuX3Zpc2libGUpO1xyXG5cclxuICAgICAgICB0aGlzLl92aXNpYmxlICYmICh0aGlzLl9jb3JlLmludmFsaWRhdGUoJ3dpZHRoJykgJiYgdGhpcy5fY29yZS5yZWZyZXNoKCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKi9cclxuICAgIEF1dG9SZWZyZXNoLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIsIHByb3BlcnR5O1xyXG5cclxuICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLl9oYW5kbGVycykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLl9oYW5kbGVyc1toYW5kbGVyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuQXV0b1JlZnJlc2ggPSBBdXRvUmVmcmVzaDtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBMYXp5IFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEJhcnRvc3ogV29qY2llY2hvd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgbGF6eSBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIExhenkgUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBMYXp5ID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxyZWFkeSBsb2FkZWQgaXRlbXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtBcnJheS48alF1ZXJ5Pn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9sb2FkZWQgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgY2hhbmdlLm93bC5jYXJvdXNlbCByZXNpemVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NvcmUuc2V0dGluZ3MgfHwgIXRoaXMuX2NvcmUuc2V0dGluZ3MubGF6eUxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKChlLnByb3BlcnR5ICYmIGUucHJvcGVydHkubmFtZSA9PSAncG9zaXRpb24nKSB8fCBlLnR5cGUgPT0gJ2luaXRpYWxpemVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gPSAoc2V0dGluZ3MuY2VudGVyICYmIE1hdGguY2VpbChzZXR0aW5ncy5pdGVtcyAvIDIpIHx8IHNldHRpbmdzLml0ZW1zKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9ICgoc2V0dGluZ3MuY2VudGVyICYmIG4gKiAtMSkgfHwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gKGUucHJvcGVydHkgJiYgZS5wcm9wZXJ0eS52YWx1ZSAhPT0gdW5kZWZpbmVkID8gZS5wcm9wZXJ0eS52YWx1ZSA6IHRoaXMuX2NvcmUuY3VycmVudCgpKSArIGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lcyA9IHRoaXMuX2NvcmUuY2xvbmVzKCkubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkID0gJC5wcm94eShmdW5jdGlvbihpLCB2KSB7IHRoaXMubG9hZCh2KSB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkrKyA8IG4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkKGNsb25lcyAvIDIgKyB0aGlzLl9jb3JlLnJlbGF0aXZlKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lcyAmJiAkLmVhY2godGhpcy5fY29yZS5jbG9uZXModGhpcy5fY29yZS5yZWxhdGl2ZShwb3NpdGlvbikpLCBsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24rKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2V0IHRoZSBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTGF6eS5EZWZhdWx0cywgdGhpcy5fY29yZS5vcHRpb25zKTtcclxuXHJcbiAgICAgICAgLy8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlclxyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgTGF6eS5EZWZhdWx0cyA9IHtcclxuICAgICAgICBsYXp5TG9hZDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkcyBhbGwgcmVzb3VyY2VzIG9mIGFuIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbi5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgTGF6eS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyICRpdGVtID0gdGhpcy5fY29yZS4kc3RhZ2UuY2hpbGRyZW4oKS5lcShwb3NpdGlvbiksXHJcbiAgICAgICAgICAgICRlbGVtZW50cyA9ICRpdGVtICYmICRpdGVtLmZpbmQoJy5vd2wtbGF6eScpO1xyXG5cclxuICAgICAgICBpZiAoISRlbGVtZW50cyB8fCAkLmluQXJyYXkoJGl0ZW0uZ2V0KDApLCB0aGlzLl9sb2FkZWQpID4gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGVsZW1lbnRzLmVhY2goJC5wcm94eShmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpLCBpbWFnZSxcclxuICAgICAgICAgICAgICAgIHVybCA9ICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgJiYgJGVsZW1lbnQuYXR0cignZGF0YS1zcmMtcmV0aW5hJykpIHx8ICRlbGVtZW50LmF0dHIoJ2RhdGEtc3JjJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLnRyaWdnZXIoJ2xvYWQnLCB7IGVsZW1lbnQ6ICRlbGVtZW50LCB1cmw6IHVybCB9LCAnbGF6eScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCRlbGVtZW50LmlzKCdpbWcnKSkge1xyXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQub25lKCdsb2FkLm93bC5sYXp5JywgJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5jc3MoJ29wYWNpdHknLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLnRyaWdnZXIoJ2xvYWRlZCcsIHsgZWxlbWVudDogJGVsZW1lbnQsIHVybDogdXJsIH0sICdsYXp5Jyk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKSkuYXR0cignc3JjJywgdXJsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogJ3VybChcIicgKyB1cmwgKyAnXCIpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ29wYWNpdHknOiAnMSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLnRyaWdnZXIoJ2xvYWRlZCcsIHsgZWxlbWVudDogJGVsZW1lbnQsIHVybDogdXJsIH0sICdsYXp5Jyk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IHVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbG9hZGVkLnB1c2goJGl0ZW0uZ2V0KDApKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBMYXp5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIsIHByb3BlcnR5O1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5oYW5kbGVycykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLmhhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5MYXp5ID0gTGF6eTtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBBdXRvSGVpZ2h0IFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEJhcnRvc3ogV29qY2llY2hvd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgYXV0byBoZWlnaHQgcGx1Z2luLlxyXG4gICAgICogQGNsYXNzIFRoZSBBdXRvIEhlaWdodCBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqL1xyXG4gICAgdmFyIEF1dG9IZWlnaHQgPSBmdW5jdGlvbihjYXJvdXNlbCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgY29yZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge093bH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb3JlID0gY2Fyb3VzZWw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCByZWZyZXNoZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdjaGFuZ2VkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodCAmJiBlLnByb3BlcnR5Lm5hbWUgPT0gJ3Bvc2l0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdsb2FkZWQub3dsLmxhenknOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICAmJiBlLmVsZW1lbnQuY2xvc2VzdCgnLicgKyB0aGlzLl9jb3JlLnNldHRpbmdzLml0ZW1DbGFzcykuaW5kZXgoKSA9PT0gdGhpcy5fY29yZS5jdXJyZW50KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQXV0b0hlaWdodC5EZWZhdWx0cywgdGhpcy5fY29yZS5vcHRpb25zKTtcclxuXHJcbiAgICAgICAgLy8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEF1dG9IZWlnaHQuRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgYXV0b0hlaWdodDogZmFsc2UsXHJcbiAgICAgICAgYXV0b0hlaWdodENsYXNzOiAnb3dsLWhlaWdodCdcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSB2aWV3LlxyXG4gICAgICovXHJcbiAgICBBdXRvSGVpZ2h0LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLl9jb3JlLl9jdXJyZW50LFxyXG4gICAgICAgICAgICBlbmQgPSBzdGFydCArIHRoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbXMsXHJcbiAgICAgICAgICAgIHZpc2libGUgPSB0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLnRvQXJyYXkoKS5zbGljZShzdGFydCwgZW5kKSxcclxuICAgICAgICAgICAgaGVpZ2h0cyA9IFtdLFxyXG4gICAgICAgICAgICBtYXhoZWlnaHQgPSAwO1xyXG5cclxuICAgICAgICAkLmVhY2godmlzaWJsZSwgZnVuY3Rpb24oaW5kZXgsIGl0ZW0pIHtcclxuICAgICAgICAgICAgaGVpZ2h0cy5wdXNoKCQoaXRlbSkuaGVpZ2h0KCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtYXhoZWlnaHQgPSBNYXRoLm1heC5hcHBseShudWxsLCBoZWlnaHRzKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY29yZS4kc3RhZ2UucGFyZW50KClcclxuICAgICAgICAgICAgLmhlaWdodChtYXhoZWlnaHQpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyh0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHRDbGFzcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIEF1dG9IZWlnaHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLl9oYW5kbGVycykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLl9oYW5kbGVyc1toYW5kbGVyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuQXV0b0hlaWdodCA9IEF1dG9IZWlnaHQ7XHJcblxyXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcblxyXG4vKipcclxuICogVmlkZW8gUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSB2aWRlbyBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIFZpZGVvIFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IGNhcm91c2VsIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgVmlkZW8gPSBmdW5jdGlvbihjYXJvdXNlbCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgY29yZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge093bH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb3JlID0gY2Fyb3VzZWw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhY2hlIGFsbCB2aWRlbyBVUkxzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3ZpZGVvcyA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDdXJyZW50IHBsYXlpbmcgaXRlbS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge2pRdWVyeX1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wbGF5aW5nID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEB0b2RvIFRoZSBjbG9uZWQgY29udGVudCByZW1vdmFsZSBpcyB0b28gbGF0ZVxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLnJlZ2lzdGVyKHsgdHlwZTogJ3N0YXRlJywgbmFtZTogJ3BsYXlpbmcnLCB0YWdzOiBbICdpbnRlcmFjdGluZycgXSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdyZXNpemUub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy52aWRlbyAmJiB0aGlzLmlzSW5GdWxsU2NyZWVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncmVmcmVzaGVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuaXMoJ3Jlc2l6aW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLiRzdGFnZS5maW5kKCcuY2xvbmVkIC5vd2wtdmlkZW8tZnJhbWUnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdjaGFuZ2VkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIGUucHJvcGVydHkubmFtZSA9PT0gJ3Bvc2l0aW9uJyAmJiB0aGlzLl9wbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncHJlcGFyZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWUubmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQoZS5jb250ZW50KS5maW5kKCcub3dsLXZpZGVvJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCRlbGVtZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaCgkZWxlbWVudCwgJChlLmNvbnRlbnQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIFZpZGVvLkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKCdjbGljay5vd2wudmlkZW8nLCAnLm93bC12aWRlby1wbGF5LWljb24nLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5KGUpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIFZpZGVvLkRlZmF1bHRzID0ge1xyXG4gICAgICAgIHZpZGVvOiBmYWxzZSxcclxuICAgICAgICB2aWRlb0hlaWdodDogZmFsc2UsXHJcbiAgICAgICAgdmlkZW9XaWR0aDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSB2aWRlbyBJRCBhbmQgdGhlIHR5cGUgKFlvdVR1YmUvVmltZW8vdnphYXIgb25seSkuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gdGFyZ2V0IC0gVGhlIHRhcmdldCBjb250YWluaW5nIHRoZSB2aWRlbyBkYXRhLlxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IGl0ZW0gLSBUaGUgaXRlbSBjb250YWluaW5nIHRoZSB2aWRlby5cclxuICAgICAqL1xyXG4gICAgVmlkZW8ucHJvdG90eXBlLmZldGNoID0gZnVuY3Rpb24odGFyZ2V0LCBpdGVtKSB7XHJcbiAgICAgICAgdmFyIHR5cGUgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmF0dHIoJ2RhdGEtdmltZW8taWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndmltZW8nO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuYXR0cignZGF0YS12emFhci1pZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2emFhcidcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd5b3V0dWJlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkoKSxcclxuICAgICAgICAgICAgaWQgPSB0YXJnZXQuYXR0cignZGF0YS12aW1lby1pZCcpIHx8IHRhcmdldC5hdHRyKCdkYXRhLXlvdXR1YmUtaWQnKSB8fCB0YXJnZXQuYXR0cignZGF0YS12emFhci1pZCcpLFxyXG4gICAgICAgICAgICB3aWR0aCA9IHRhcmdldC5hdHRyKCdkYXRhLXdpZHRoJykgfHwgdGhpcy5fY29yZS5zZXR0aW5ncy52aWRlb1dpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSB0YXJnZXQuYXR0cignZGF0YS1oZWlnaHQnKSB8fCB0aGlzLl9jb3JlLnNldHRpbmdzLnZpZGVvSGVpZ2h0LFxyXG4gICAgICAgICAgICB1cmwgPSB0YXJnZXQuYXR0cignaHJlZicpO1xyXG5cclxuICAgICAgICBpZiAodXJsKSB7XHJcblxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgIFBhcnNlcyB0aGUgaWQncyBvdXQgb2YgdGhlIGZvbGxvd2luZyB1cmxzIChhbmQgcHJvYmFibHkgbW9yZSk6XHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj06aWRcclxuICAgICAgICAgICAgICAgICAgICBodHRwczovL3lvdXR1LmJlLzppZFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBzOi8vdmltZW8uY29tLzppZFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBzOi8vdmltZW8uY29tL2NoYW5uZWxzLzpjaGFubmVsLzppZFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBzOi8vdmltZW8uY29tL2dyb3Vwcy86Z3JvdXAvdmlkZW9zLzppZFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBzOi8vYXBwLnZ6YWFyLmNvbS92aWRlb3MvOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgVmlzdWFsIGV4YW1wbGU6IGh0dHBzOi8vcmVnZXhwZXIuY29tLyMoaHR0cCUzQSU3Q2h0dHBzJTNBJTdDKSU1QyUyRiU1QyUyRihwbGF5ZXIuJTdDd3d3LiU3Q2FwcC4pJTNGKHZpbWVvJTVDLmNvbSU3Q3lvdXR1KGJlJTVDLmNvbSU3QyU1Qy5iZSU3Q2JlJTVDLmdvb2dsZWFwaXMlNUMuY29tKSU3Q3Z6YWFyJTVDLmNvbSklNUMlMkYodmlkZW8lNUMlMkYlN0N2aWRlb3MlNUMlMkYlN0NlbWJlZCU1QyUyRiU3Q2NoYW5uZWxzJTVDJTJGLiUyQiU1QyUyRiU3Q2dyb3VwcyU1QyUyRi4lMkIlNUMlMkYlN0N3YXRjaCU1QyUzRnYlM0QlN0N2JTVDJTJGKSUzRiglNUJBLVphLXowLTkuXyUyNS0lNUQqKSglNUMlMjYlNUNTJTJCKSUzRlxyXG4gICAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAgICAgaWQgPSB1cmwubWF0Y2goLyhodHRwOnxodHRwczp8KVxcL1xcLyhwbGF5ZXIufHd3dy58YXBwLik/KHZpbWVvXFwuY29tfHlvdXR1KGJlXFwuY29tfFxcLmJlfGJlXFwuZ29vZ2xlYXBpc1xcLmNvbSl8dnphYXJcXC5jb20pXFwvKHZpZGVvXFwvfHZpZGVvc1xcL3xlbWJlZFxcL3xjaGFubmVsc1xcLy4rXFwvfGdyb3Vwc1xcLy4rXFwvfHdhdGNoXFw/dj18dlxcLyk/KFtBLVphLXowLTkuXyUtXSopKFxcJlxcUyspPy8pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlkWzNdLmluZGV4T2YoJ3lvdXR1JykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICd5b3V0dWJlJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpZFszXS5pbmRleE9mKCd2aW1lbycpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSAndmltZW8nO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlkWzNdLmluZGV4T2YoJ3Z6YWFyJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICd2emFhcic7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZpZGVvIFVSTCBub3Qgc3VwcG9ydGVkLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlkID0gaWRbNl07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHZpZGVvIFVSTC4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3ZpZGVvc1t1cmxdID0ge1xyXG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpdGVtLmF0dHIoJ2RhdGEtdmlkZW8nLCB1cmwpO1xyXG5cclxuICAgICAgICB0aGlzLnRodW1ibmFpbCh0YXJnZXQsIHRoaXMuX3ZpZGVvc1t1cmxdKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHZpZGVvIHRodW1ibmFpbC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IGNvbnRhaW5pbmcgdGhlIHZpZGVvIGRhdGEuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyAtIFRoZSB2aWRlbyBpbmZvIG9iamVjdC5cclxuICAgICAqIEBzZWUgYGZldGNoYFxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUudGh1bWJuYWlsID0gZnVuY3Rpb24odGFyZ2V0LCB2aWRlbykge1xyXG4gICAgICAgIHZhciB0bkxpbmssXHJcbiAgICAgICAgICAgIGljb24sXHJcbiAgICAgICAgICAgIHBhdGgsXHJcbiAgICAgICAgICAgIGRpbWVuc2lvbnMgPSB2aWRlby53aWR0aCAmJiB2aWRlby5oZWlnaHQgPyAnc3R5bGU9XCJ3aWR0aDonICsgdmlkZW8ud2lkdGggKyAncHg7aGVpZ2h0OicgKyB2aWRlby5oZWlnaHQgKyAncHg7XCInIDogJycsXHJcbiAgICAgICAgICAgIGN1c3RvbVRuID0gdGFyZ2V0LmZpbmQoJ2ltZycpLFxyXG4gICAgICAgICAgICBzcmNUeXBlID0gJ3NyYycsXHJcbiAgICAgICAgICAgIGxhenlDbGFzcyA9ICcnLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgIGNyZWF0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIGljb24gPSAnPGRpdiBjbGFzcz1cIm93bC12aWRlby1wbGF5LWljb25cIj48L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5sYXp5TG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRuTGluayA9ICc8ZGl2IGNsYXNzPVwib3dsLXZpZGVvLXRuICcgKyBsYXp5Q2xhc3MgKyAnXCIgJyArIHNyY1R5cGUgKyAnPVwiJyArIHBhdGggKyAnXCI+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG5MaW5rID0gJzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tdG5cIiBzdHlsZT1cIm9wYWNpdHk6MTtiYWNrZ3JvdW5kLWltYWdlOnVybCgnICsgcGF0aCArICcpXCI+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRhcmdldC5hZnRlcih0bkxpbmspO1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmFmdGVyKGljb24pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyB3cmFwIHZpZGVvIGNvbnRlbnQgaW50byBvd2wtdmlkZW8td3JhcHBlciBkaXZcclxuICAgICAgICB0YXJnZXQud3JhcCgnPGRpdiBjbGFzcz1cIm93bC12aWRlby13cmFwcGVyXCInICsgZGltZW5zaW9ucyArICc+PC9kaXY+Jyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9jb3JlLnNldHRpbmdzLmxhenlMb2FkKSB7XHJcbiAgICAgICAgICAgIHNyY1R5cGUgPSAnZGF0YS1zcmMnO1xyXG4gICAgICAgICAgICBsYXp5Q2xhc3MgPSAnb3dsLWxhenknO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY3VzdG9tIHRodW1ibmFpbFxyXG4gICAgICAgIGlmIChjdXN0b21Ubi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY3JlYXRlKGN1c3RvbVRuLmF0dHIoc3JjVHlwZSkpO1xyXG4gICAgICAgICAgICBjdXN0b21Ubi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHZpZGVvLnR5cGUgPT09ICd5b3V0dWJlJykge1xyXG4gICAgICAgICAgICBwYXRoID0gXCIvL2ltZy55b3V0dWJlLmNvbS92aS9cIiArIHZpZGVvLmlkICsgXCIvaHFkZWZhdWx0LmpwZ1wiO1xyXG4gICAgICAgICAgICBjcmVhdGUocGF0aCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2aWRlby50eXBlID09PSAndmltZW8nKSB7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgIHVybDogJy8vdmltZW8uY29tL2FwaS92Mi92aWRlby8nICsgdmlkZW8uaWQgKyAnLmpzb24nLFxyXG4gICAgICAgICAgICAgICAganNvbnA6ICdjYWxsYmFjaycsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gZGF0YVswXS50aHVtYm5haWxfbGFyZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnR5cGUgPT09ICd2emFhcicpIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnLy92emFhci5jb20vYXBpL3ZpZGVvcy8nICsgdmlkZW8uaWQgKyAnLmpzb24nLFxyXG4gICAgICAgICAgICAgICAganNvbnA6ICdjYWxsYmFjaycsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gZGF0YS5mcmFtZWdyYWJfdXJsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZShwYXRoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIHRoZSBjdXJyZW50IHZpZGVvLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignc3RvcCcsIG51bGwsICd2aWRlbycpO1xyXG4gICAgICAgIHRoaXMuX3BsYXlpbmcuZmluZCgnLm93bC12aWRlby1mcmFtZScpLnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX3BsYXlpbmcucmVtb3ZlQ2xhc3MoJ293bC12aWRlby1wbGF5aW5nJyk7XHJcbiAgICAgICAgdGhpcy5fcGxheWluZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fY29yZS5sZWF2ZSgncGxheWluZycpO1xyXG4gICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignc3RvcHBlZCcsIG51bGwsICd2aWRlbycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyB0aGUgY3VycmVudCB2aWRlby5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqL1xyXG4gICAgVmlkZW8ucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCksXHJcbiAgICAgICAgICAgIGl0ZW0gPSB0YXJnZXQuY2xvc2VzdCgnLicgKyB0aGlzLl9jb3JlLnNldHRpbmdzLml0ZW1DbGFzcyksXHJcbiAgICAgICAgICAgIHZpZGVvID0gdGhpcy5fdmlkZW9zW2l0ZW0uYXR0cignZGF0YS12aWRlbycpXSxcclxuICAgICAgICAgICAgd2lkdGggPSB2aWRlby53aWR0aCB8fCAnMTAwJScsXHJcbiAgICAgICAgICAgIGhlaWdodCA9IHZpZGVvLmhlaWdodCB8fCB0aGlzLl9jb3JlLiRzdGFnZS5oZWlnaHQoKSxcclxuICAgICAgICAgICAgaHRtbDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3BsYXlpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29yZS5lbnRlcigncGxheWluZycpO1xyXG4gICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcigncGxheScsIG51bGwsICd2aWRlbycpO1xyXG5cclxuICAgICAgICBpdGVtID0gdGhpcy5fY29yZS5pdGVtcyh0aGlzLl9jb3JlLnJlbGF0aXZlKGl0ZW0uaW5kZXgoKSkpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLnJlc2V0KGl0ZW0uaW5kZXgoKSk7XHJcblxyXG4gICAgICAgIGlmICh2aWRlby50eXBlID09PSAneW91dHViZScpIHtcclxuICAgICAgICAgICAgaHRtbCA9ICc8aWZyYW1lIHdpZHRoPVwiJyArIHdpZHRoICsgJ1wiIGhlaWdodD1cIicgKyBoZWlnaHQgKyAnXCIgc3JjPVwiLy93d3cueW91dHViZS5jb20vZW1iZWQvJyArXHJcbiAgICAgICAgICAgICAgICB2aWRlby5pZCArICc/YXV0b3BsYXk9MSZyZWw9MCZ2PScgKyB2aWRlby5pZCArICdcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+JztcclxuICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnR5cGUgPT09ICd2aW1lbycpIHtcclxuICAgICAgICAgICAgaHRtbCA9ICc8aWZyYW1lIHNyYz1cIi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby8nICsgdmlkZW8uaWQgK1xyXG4gICAgICAgICAgICAgICAgJz9hdXRvcGxheT0xXCIgd2lkdGg9XCInICsgd2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGhlaWdodCArXHJcbiAgICAgICAgICAgICAgICAnXCIgZnJhbWVib3JkZXI9XCIwXCIgd2Via2l0YWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+JztcclxuICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnR5cGUgPT09ICd2emFhcicpIHtcclxuICAgICAgICAgICAgaHRtbCA9ICc8aWZyYW1lIGZyYW1lYm9yZGVyPVwiMFwiJyArICdoZWlnaHQ9XCInICsgaGVpZ2h0ICsgJ1wiJyArICd3aWR0aD1cIicgKyB3aWR0aCArXHJcbiAgICAgICAgICAgICAgICAnXCIgYWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiB3ZWJraXRBbGxvd0Z1bGxTY3JlZW4gJyArXHJcbiAgICAgICAgICAgICAgICAnc3JjPVwiLy92aWV3LnZ6YWFyLmNvbS8nICsgdmlkZW8uaWQgKyAnL3BsYXllcj9hdXRvcGxheT10cnVlXCI+PC9pZnJhbWU+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoJzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tZnJhbWVcIj4nICsgaHRtbCArICc8L2Rpdj4nKS5pbnNlcnRBZnRlcihpdGVtLmZpbmQoJy5vd2wtdmlkZW8nKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBpdGVtLmFkZENsYXNzKCdvd2wtdmlkZW8tcGxheWluZycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIGFuIHZpZGVvIGlzIGN1cnJlbnRseSBpbiBmdWxsIHNjcmVlbiBtb2RlIG9yIG5vdC5cclxuICAgICAqIEB0b2RvIEJhZCBzdHlsZSBiZWNhdXNlIGxvb2tzIGxpa2UgYSByZWFkb25seSBtZXRob2QgYnV0IGNoYW5nZXMgbWVtYmVycy5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUuaXNJbkZ1bGxTY3JlZW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8XHJcbiAgICAgICAgICAgIGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50O1xyXG5cclxuICAgICAgICByZXR1cm4gZWxlbWVudCAmJiAkKGVsZW1lbnQpLnBhcmVudCgpLmhhc0NsYXNzKCdvd2wtdmlkZW8tZnJhbWUnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLlxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoJ2NsaWNrLm93bC52aWRlbycpO1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLlZpZGVvID0gVmlkZW87XHJcblxyXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcblxyXG4vKipcclxuICogQW5pbWF0ZSBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKi9cclxuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIGFuaW1hdGUgcGx1Z2luLlxyXG4gICAgICogQGNsYXNzIFRoZSBOYXZpZ2F0aW9uIFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IHNjb3BlIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgQW5pbWF0ZSA9IGZ1bmN0aW9uKHNjb3BlKSB7XHJcbiAgICAgICAgdGhpcy5jb3JlID0gc2NvcGU7XHJcbiAgICAgICAgdGhpcy5jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQW5pbWF0ZS5EZWZhdWx0cywgdGhpcy5jb3JlLm9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuc3dhcHBpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5uZXh0ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnY2hhbmdlLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIGUucHJvcGVydHkubmFtZSA9PSAncG9zaXRpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91cyA9IHRoaXMuY29yZS5jdXJyZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0ID0gZS5wcm9wZXJ0eS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdkcmFnLm93bC5jYXJvdXNlbCBkcmFnZ2VkLm93bC5jYXJvdXNlbCB0cmFuc2xhdGVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2FwcGluZyA9IGUudHlwZSA9PSAndHJhbnNsYXRlZCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAndHJhbnNsYXRlLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuc3dhcHBpbmcgJiYgKHRoaXMuY29yZS5vcHRpb25zLmFuaW1hdGVPdXQgfHwgdGhpcy5jb3JlLm9wdGlvbnMuYW5pbWF0ZUluKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3dhcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY29yZS4kZWxlbWVudC5vbih0aGlzLmhhbmRsZXJzKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEFuaW1hdGUuRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgYW5pbWF0ZU91dDogZmFsc2UsXHJcbiAgICAgICAgYW5pbWF0ZUluOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgdGhlIGFuaW1hdGlvbiBjbGFzc2VzIHdoZW5ldmVyIGFuIHRyYW5zbGF0aW9ucyBzdGFydHMuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbnx1bmRlZmluZWR9XHJcbiAgICAgKi9cclxuICAgIEFuaW1hdGUucHJvdG90eXBlLnN3YXAgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29yZS5zZXR0aW5ncy5pdGVtcyAhPT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoISQuc3VwcG9ydC5hbmltYXRpb24gfHwgISQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29yZS5zcGVlZCgwKTtcclxuXHJcbiAgICAgICAgdmFyIGxlZnQsXHJcbiAgICAgICAgICAgIGNsZWFyID0gJC5wcm94eSh0aGlzLmNsZWFyLCB0aGlzKSxcclxuICAgICAgICAgICAgcHJldmlvdXMgPSB0aGlzLmNvcmUuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5wcmV2aW91cyksXHJcbiAgICAgICAgICAgIG5leHQgPSB0aGlzLmNvcmUuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5uZXh0KSxcclxuICAgICAgICAgICAgaW5jb21pbmcgPSB0aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZUluLFxyXG4gICAgICAgICAgICBvdXRnb2luZyA9IHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlT3V0O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb3JlLmN1cnJlbnQoKSA9PT0gdGhpcy5wcmV2aW91cykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3V0Z29pbmcpIHtcclxuICAgICAgICAgICAgbGVmdCA9IHRoaXMuY29yZS5jb29yZGluYXRlcyh0aGlzLnByZXZpb3VzKSAtIHRoaXMuY29yZS5jb29yZGluYXRlcyh0aGlzLm5leHQpO1xyXG4gICAgICAgICAgICBwcmV2aW91cy5vbmUoJC5zdXBwb3J0LmFuaW1hdGlvbi5lbmQsIGNsZWFyKVxyXG4gICAgICAgICAgICAgICAgLmNzcyggeyAnbGVmdCc6IGxlZnQgKyAncHgnIH0gKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdhbmltYXRlZCBvd2wtYW5pbWF0ZWQtb3V0JylcclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhvdXRnb2luZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5jb21pbmcpIHtcclxuICAgICAgICAgICAgbmV4dC5vbmUoJC5zdXBwb3J0LmFuaW1hdGlvbi5lbmQsIGNsZWFyKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdhbmltYXRlZCBvd2wtYW5pbWF0ZWQtaW4nKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKGluY29taW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIEFuaW1hdGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICQoZS50YXJnZXQpLmNzcyggeyAnbGVmdCc6ICcnIH0gKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkIG93bC1hbmltYXRlZC1vdXQgb3dsLWFuaW1hdGVkLWluJylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlSW4pXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZU91dCk7XHJcbiAgICAgICAgdGhpcy5jb3JlLm9uVHJhbnNpdGlvbkVuZCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEFuaW1hdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLmhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29yZS4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5oYW5kbGVyc1toYW5kbGVyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuQW5pbWF0ZSA9IEFuaW1hdGU7XHJcblxyXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcblxyXG4vKipcclxuICogQXV0b3BsYXkgUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgYXV0b3BsYXkgcGx1Z2luLlxyXG4gICAgICogQGNsYXNzIFRoZSBBdXRvcGxheSBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBzY29wZSAtIFRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqL1xyXG4gICAgdmFyIEF1dG9wbGF5ID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgYXV0b3BsYXkgdGltZW91dC5cclxuICAgICAgICAgKiBAdHlwZSB7VGltZW91dH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZW5ldmVyIHRoZSBhdXRvcGxheSBpcyBwYXVzZWQuXHJcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09PSAnc2V0dGluZ3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT09ICdwb3NpdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwbGF5PycsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldEF1dG9QbGF5SW50ZXJ2YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3BsYXkub3dsLmF1dG9wbGF5JzogJC5wcm94eShmdW5jdGlvbihlLCB0LCBzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkodCwgcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnc3RvcC5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ21vdXNlb3Zlci5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlICYmIHRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnbW91c2VsZWF2ZS5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlICYmIHRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICd0b3VjaHN0YXJ0Lm93bC5jb3JlJzogJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5SG92ZXJQYXVzZSAmJiB0aGlzLl9jb3JlLmlzKCdyb3RhdGluZycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3RvdWNoZW5kLm93bC5jb3JlJzogJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5SG92ZXJQYXVzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcblxyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQXV0b3BsYXkuRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBBdXRvcGxheS5EZWZhdWx0cyA9IHtcclxuICAgICAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICAgICAgYXV0b3BsYXlUaW1lb3V0OiA1MDAwLFxyXG4gICAgICAgIGF1dG9wbGF5SG92ZXJQYXVzZTogZmFsc2UsXHJcbiAgICAgICAgYXV0b3BsYXlTcGVlZDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydHMgdGhlIGF1dG9wbGF5LlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lb3V0XSAtIFRoZSBpbnRlcnZhbCBiZWZvcmUgdGhlIG5leHQgYW5pbWF0aW9uIHN0YXJ0cy5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIGFuaW1hdGlvbiBzcGVlZCBmb3IgdGhlIGFuaW1hdGlvbnMuXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24odGltZW91dCwgc3BlZWQpIHtcclxuICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29yZS5lbnRlcigncm90YXRpbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2V0QXV0b1BsYXlJbnRlcnZhbCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYSBuZXcgdGltZW91dFxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZW91dF0gLSBUaGUgaW50ZXJ2YWwgYmVmb3JlIHRoZSBuZXh0IGFuaW1hdGlvbiBzdGFydHMuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSBhbmltYXRpb24gc3BlZWQgZm9yIHRoZSBhbmltYXRpb25zLlxyXG4gICAgICogQHJldHVybiB7VGltZW91dH1cclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLl9nZXROZXh0VGltZW91dCA9IGZ1bmN0aW9uKHRpbWVvdXQsIHNwZWVkKSB7XHJcbiAgICAgICAgaWYgKCB0aGlzLl90aW1lb3V0ICkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhdXNlZCB8fCB0aGlzLl9jb3JlLmlzKCdidXN5JykgfHwgdGhpcy5fY29yZS5pcygnaW50ZXJhY3RpbmcnKSB8fCBkb2N1bWVudC5oaWRkZW4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLm5leHQoc3BlZWQgfHwgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheVNwZWVkKTtcclxuICAgICAgICB9LCB0aGlzKSwgdGltZW91dCB8fCB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5VGltZW91dCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhdXRvcGxheSBpbiBtb3Rpb24uXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBBdXRvcGxheS5wcm90b3R5cGUuX3NldEF1dG9QbGF5SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdGhpcy5fZ2V0TmV4dFRpbWVvdXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wcyB0aGUgYXV0b3BsYXkuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jb3JlLmlzKCdyb3RhdGluZycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XHJcbiAgICAgICAgdGhpcy5fY29yZS5sZWF2ZSgncm90YXRpbmcnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wcyB0aGUgYXV0b3BsYXkuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9wYXVzZWQgPSB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIsIHByb3BlcnR5O1xyXG5cclxuICAgICAgICB0aGlzLnN0b3AoKTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5hdXRvcGxheSA9IEF1dG9wbGF5O1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIE5hdmlnYXRpb24gUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgbmF2aWdhdGlvbiBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIE5hdmlnYXRpb24gUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsLlxyXG4gICAgICovXHJcbiAgICB2YXIgTmF2aWdhdGlvbiA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHBsdWdpbiBpcyBpbml0aWFsaXplZCBvciBub3QuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHBhZ2luZyBpbmRleGVzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fcGFnZXMgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIERPTSBlbGVtZW50cyBvZiB0aGUgdXNlciBpbnRlcmZhY2UuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTWFya3VwIGZvciBhbiBpbmRpY2F0b3IuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtBcnJheS48U3RyaW5nPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl90ZW1wbGF0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGNhcm91c2VsIGVsZW1lbnQuXHJcbiAgICAgICAgICogQHR5cGUge2pRdWVyeX1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLiRlbGVtZW50ID0gdGhpcy5fY29yZS4kZWxlbWVudDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogT3ZlcnJpZGRlbiBtZXRob2RzIG9mIHRoZSBjYXJvdXNlbC5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9vdmVycmlkZXMgPSB7XHJcbiAgICAgICAgICAgIG5leHQ6IHRoaXMuX2NvcmUubmV4dCxcclxuICAgICAgICAgICAgcHJldjogdGhpcy5fY29yZS5wcmV2LFxyXG4gICAgICAgICAgICB0bzogdGhpcy5fY29yZS50b1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ3ByZXBhcmVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZXMucHVzaCgnPGRpdiBjbGFzcz1cIicgKyB0aGlzLl9jb3JlLnNldHRpbmdzLmRvdENsYXNzICsgJ1wiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGUuY29udGVudCkuZmluZCgnW2RhdGEtZG90XScpLmFkZEJhY2soJ1tkYXRhLWRvdF0nKS5hdHRyKCdkYXRhLWRvdCcpICsgJzwvZGl2PicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2FkZGVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZXMuc3BsaWNlKGUucG9zaXRpb24sIDAsIHRoaXMuX3RlbXBsYXRlcy5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncmVtb3ZlLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZXMuc3BsaWNlKGUucG9zaXRpb24sIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09ICdwb3NpdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiAhdGhpcy5faW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLnRyaWdnZXIoJ2luaXRpYWxpemUnLCBudWxsLCAnbmF2aWdhdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignaW5pdGlhbGl6ZWQnLCBudWxsLCAnbmF2aWdhdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3JlZnJlc2hlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcigncmVmcmVzaCcsIG51bGwsICduYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLnRyaWdnZXIoJ3JlZnJlc2hlZCcsIG51bGwsICduYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBOYXZpZ2F0aW9uLkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEB0b2RvIFJlbmFtZSBgc2xpZGVCeWAgdG8gYG5hdkJ5YFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLkRlZmF1bHRzID0ge1xyXG4gICAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgICAgbmF2VGV4dDogWyAnJywgJycgXSxcclxuICAgICAgICBuYXZTcGVlZDogZmFsc2UsXHJcbiAgICAgICAgbmF2RWxlbWVudDogJ2RpdicsXHJcbiAgICAgICAgbmF2Q29udGFpbmVyOiBmYWxzZSxcclxuICAgICAgICBuYXZDb250YWluZXJDbGFzczogJ293bC1uYXYnLFxyXG4gICAgICAgIG5hdkNsYXNzOiBbICdvd2wtcHJldicsICdvd2wtbmV4dCcgXSxcclxuICAgICAgICBzbGlkZUJ5OiAxLFxyXG4gICAgICAgIGRvdENsYXNzOiAnb3dsLWRvdCcsXHJcbiAgICAgICAgZG90c0NsYXNzOiAnb3dsLWRvdHMnLFxyXG4gICAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgICAgZG90c0VhY2g6IGZhbHNlLFxyXG4gICAgICAgIGRvdHNEYXRhOiBmYWxzZSxcclxuICAgICAgICBkb3RzU3BlZWQ6IGZhbHNlLFxyXG4gICAgICAgIGRvdHNDb250YWluZXI6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGxheW91dCBvZiB0aGUgcGx1Z2luIGFuZCBleHRlbmRzIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBvdmVycmlkZSxcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgRE9NIHN0cnVjdHVyZSBmb3IgcmVsYXRpdmUgbmF2aWdhdGlvblxyXG4gICAgICAgIHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZSA9IChzZXR0aW5ncy5uYXZDb250YWluZXIgPyAkKHNldHRpbmdzLm5hdkNvbnRhaW5lcilcclxuICAgICAgICAgICAgOiAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLm5hdkNvbnRhaW5lckNsYXNzKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KSkuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRyb2xzLiRwcmV2aW91cyA9ICQoJzwnICsgc2V0dGluZ3MubmF2RWxlbWVudCArICc+JylcclxuICAgICAgICAgICAgLmFkZENsYXNzKHNldHRpbmdzLm5hdkNsYXNzWzBdKVxyXG4gICAgICAgICAgICAuaHRtbChzZXR0aW5ncy5uYXZUZXh0WzBdKVxyXG4gICAgICAgICAgICAucHJlcGVuZFRvKHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZSlcclxuICAgICAgICAgICAgLm9uKCdjbGljaycsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2KHNldHRpbmdzLm5hdlNwZWVkKTtcclxuICAgICAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgICAgIHRoaXMuX2NvbnRyb2xzLiRuZXh0ID0gJCgnPCcgKyBzZXR0aW5ncy5uYXZFbGVtZW50ICsgJz4nKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3Moc2V0dGluZ3MubmF2Q2xhc3NbMV0pXHJcbiAgICAgICAgICAgIC5odG1sKHNldHRpbmdzLm5hdlRleHRbMV0pXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLl9jb250cm9scy4kcmVsYXRpdmUpXHJcbiAgICAgICAgICAgIC5vbignY2xpY2snLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dChzZXR0aW5ncy5uYXZTcGVlZCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIERPTSBzdHJ1Y3R1cmUgZm9yIGFic29sdXRlIG5hdmlnYXRpb25cclxuICAgICAgICBpZiAoIXNldHRpbmdzLmRvdHNEYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcyA9IFsgJCgnPGRpdj4nKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKHNldHRpbmdzLmRvdENsYXNzKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8c3Bhbj4nKSlcclxuICAgICAgICAgICAgICAgIC5wcm9wKCdvdXRlckhUTUwnKSBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlID0gKHNldHRpbmdzLmRvdHNDb250YWluZXIgPyAkKHNldHRpbmdzLmRvdHNDb250YWluZXIpXHJcbiAgICAgICAgICAgIDogJCgnPGRpdj4nKS5hZGRDbGFzcyhzZXR0aW5ncy5kb3RzQ2xhc3MpLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLm9uKCdjbGljaycsICdkaXYnLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gJChlLnRhcmdldCkucGFyZW50KCkuaXModGhpcy5fY29udHJvbHMuJGFic29sdXRlKVxyXG4gICAgICAgICAgICAgICAgPyAkKGUudGFyZ2V0KS5pbmRleCgpIDogJChlLnRhcmdldCkucGFyZW50KCkuaW5kZXgoKTtcclxuXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudG8oaW5kZXgsIHNldHRpbmdzLmRvdHNTcGVlZCk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICAvLyBvdmVycmlkZSBwdWJsaWMgbWV0aG9kcyBvZiB0aGUgY2Fyb3VzZWxcclxuICAgICAgICBmb3IgKG92ZXJyaWRlIGluIHRoaXMuX292ZXJyaWRlcykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlW292ZXJyaWRlXSA9ICQucHJveHkodGhpc1tvdmVycmlkZV0sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIsIGNvbnRyb2wsIHByb3BlcnR5LCBvdmVycmlkZTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb250cm9sIGluIHRoaXMuX2NvbnRyb2xzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzW2NvbnRyb2xdLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKG92ZXJyaWRlIGluIHRoaXMub3ZlcmlkZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29yZVtvdmVycmlkZV0gPSB0aGlzLl9vdmVycmlkZXNbb3ZlcnJpZGVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBzdGF0ZS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGksIGosIGssXHJcbiAgICAgICAgICAgIGxvd2VyID0gdGhpcy5fY29yZS5jbG9uZXMoKS5sZW5ndGggLyAyLFxyXG4gICAgICAgICAgICB1cHBlciA9IGxvd2VyICsgdGhpcy5fY29yZS5pdGVtcygpLmxlbmd0aCxcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMuX2NvcmUubWF4aW11bSh0cnVlKSxcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzLFxyXG4gICAgICAgICAgICBzaXplID0gc2V0dGluZ3MuY2VudGVyIHx8IHNldHRpbmdzLmF1dG9XaWR0aCB8fCBzZXR0aW5ncy5kb3RzRGF0YVxyXG4gICAgICAgICAgICAgICAgPyAxIDogc2V0dGluZ3MuZG90c0VhY2ggfHwgc2V0dGluZ3MuaXRlbXM7XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5zbGlkZUJ5ICE9PSAncGFnZScpIHtcclxuICAgICAgICAgICAgc2V0dGluZ3Muc2xpZGVCeSA9IE1hdGgubWluKHNldHRpbmdzLnNsaWRlQnksIHNldHRpbmdzLml0ZW1zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5kb3RzIHx8IHNldHRpbmdzLnNsaWRlQnkgPT0gJ3BhZ2UnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhZ2VzID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGkgPSBsb3dlciwgaiA9IDAsIGsgPSAwOyBpIDwgdXBwZXI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGogPj0gc2l6ZSB8fCBqID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBNYXRoLm1pbihtYXhpbXVtLCBpIC0gbG93ZXIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGkgLSBsb3dlciArIHNpemUgLSAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGgubWluKG1heGltdW0sIGkgLSBsb3dlcikgPT09IG1heGltdW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGogPSAwLCArK2s7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBqICs9IHRoaXMuX2NvcmUubWVyZ2Vycyh0aGlzLl9jb3JlLnJlbGF0aXZlKGkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3cyB0aGUgdXNlciBpbnRlcmZhY2UuXHJcbiAgICAgKiBAdG9kbyBUaGUgb3B0aW9uIGBkb3RzRGF0YWAgd29udCB3b3JrLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGRpZmZlcmVuY2UsXHJcbiAgICAgICAgICAgIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncyxcclxuICAgICAgICAgICAgZGlzYWJsZWQgPSB0aGlzLl9jb3JlLml0ZW1zKCkubGVuZ3RoIDw9IHNldHRpbmdzLml0ZW1zLFxyXG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuX2NvcmUucmVsYXRpdmUodGhpcy5fY29yZS5jdXJyZW50KCkpLFxyXG4gICAgICAgICAgICBsb29wID0gc2V0dGluZ3MubG9vcCB8fCBzZXR0aW5ncy5yZXdpbmQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZS50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhc2V0dGluZ3MubmF2IHx8IGRpc2FibGVkKTtcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLm5hdikge1xyXG4gICAgICAgICAgICB0aGlzLl9jb250cm9scy4kcHJldmlvdXMudG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJywgIWxvb3AgJiYgaW5kZXggPD0gdGhpcy5fY29yZS5taW5pbXVtKHRydWUpKTtcclxuICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuJG5leHQudG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJywgIWxvb3AgJiYgaW5kZXggPj0gdGhpcy5fY29yZS5tYXhpbXVtKHRydWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhc2V0dGluZ3MuZG90cyB8fCBkaXNhYmxlZCk7XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5kb3RzKSB7XHJcbiAgICAgICAgICAgIGRpZmZlcmVuY2UgPSB0aGlzLl9wYWdlcy5sZW5ndGggLSB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuY2hpbGRyZW4oKS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuZG90c0RhdGEgJiYgZGlmZmVyZW5jZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLmh0bWwodGhpcy5fdGVtcGxhdGVzLmpvaW4oJycpKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkaWZmZXJlbmNlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLmFwcGVuZChuZXcgQXJyYXkoZGlmZmVyZW5jZSArIDEpLmpvaW4odGhpcy5fdGVtcGxhdGVzWzBdKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlmZmVyZW5jZSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5jaGlsZHJlbigpLnNsaWNlKGRpZmZlcmVuY2UpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLmNoaWxkcmVuKCkuZXEoJC5pbkFycmF5KHRoaXMuY3VycmVudCgpLCB0aGlzLl9wYWdlcykpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXh0ZW5kcyBldmVudCBkYXRhLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgb2JqZWN0IHdoaWNoIGdldHMgdGhyb3duLlxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5vblRyaWdnZXIgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGV2ZW50LnBhZ2UgPSB7XHJcbiAgICAgICAgICAgIGluZGV4OiAkLmluQXJyYXkodGhpcy5jdXJyZW50KCksIHRoaXMuX3BhZ2VzKSxcclxuICAgICAgICAgICAgY291bnQ6IHRoaXMuX3BhZ2VzLmxlbmd0aCxcclxuICAgICAgICAgICAgc2l6ZTogc2V0dGluZ3MgJiYgKHNldHRpbmdzLmNlbnRlciB8fCBzZXR0aW5ncy5hdXRvV2lkdGggfHwgc2V0dGluZ3MuZG90c0RhdGFcclxuICAgICAgICAgICAgICAgID8gMSA6IHNldHRpbmdzLmRvdHNFYWNoIHx8IHNldHRpbmdzLml0ZW1zKVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgY3VycmVudCBwYWdlIHBvc2l0aW9uIG9mIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLmN1cnJlbnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2NvcmUucmVsYXRpdmUodGhpcy5fY29yZS5jdXJyZW50KCkpO1xyXG4gICAgICAgIHJldHVybiAkLmdyZXAodGhpcy5fcGFnZXMsICQucHJveHkoZnVuY3Rpb24ocGFnZSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhZ2Uuc3RhcnQgPD0gY3VycmVudCAmJiBwYWdlLmVuZCA+PSBjdXJyZW50O1xyXG4gICAgICAgIH0sIHRoaXMpKS5wb3AoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHN1Y2Nlc29yL3ByZWRlY2Vzc29yIHBvc2l0aW9uLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbihzdWNjZXNzb3IpIHtcclxuICAgICAgICB2YXIgcG9zaXRpb24sIGxlbmd0aCxcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzO1xyXG5cclxuICAgICAgICBpZiAoc2V0dGluZ3Muc2xpZGVCeSA9PSAncGFnZScpIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAkLmluQXJyYXkodGhpcy5jdXJyZW50KCksIHRoaXMuX3BhZ2VzKTtcclxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5fcGFnZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICBzdWNjZXNzb3IgPyArK3Bvc2l0aW9uIDogLS1wb3NpdGlvbjtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLl9wYWdlc1soKHBvc2l0aW9uICUgbGVuZ3RoKSArIGxlbmd0aCkgJSBsZW5ndGhdLnN0YXJ0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSk7XHJcbiAgICAgICAgICAgIGxlbmd0aCA9IHRoaXMuX2NvcmUuaXRlbXMoKS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NvciA/IHBvc2l0aW9uICs9IHNldHRpbmdzLnNsaWRlQnkgOiBwb3NpdGlvbiAtPSBzZXR0aW5ncy5zbGlkZUJ5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNsaWRlcyB0byB0aGUgbmV4dCBpdGVtIG9yIHBhZ2UuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkPWZhbHNlXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbihzcGVlZCkge1xyXG4gICAgICAgICQucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLCB0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKHRydWUpLCBzcGVlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBwcmV2aW91cyBpdGVtIG9yIHBhZ2UuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkPWZhbHNlXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbihzcGVlZCkge1xyXG4gICAgICAgICQucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLCB0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKGZhbHNlKSwgc3BlZWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNsaWRlcyB0byB0aGUgc3BlY2lmaWVkIGl0ZW0gb3IgcGFnZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgaXRlbSBvciBwYWdlLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzcGVlZF0gLSBUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSB0cmFuc2l0aW9uLlxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbc3RhbmRhcmQ9ZmFsc2VdIC0gV2hldGhlciB0byB1c2UgdGhlIHN0YW5kYXJkIGJlaGF2aW91ciBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLnRvID0gZnVuY3Rpb24ocG9zaXRpb24sIHNwZWVkLCBzdGFuZGFyZCkge1xyXG4gICAgICAgIHZhciBsZW5ndGg7XHJcblxyXG4gICAgICAgIGlmICghc3RhbmRhcmQgJiYgdGhpcy5fcGFnZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxlbmd0aCA9IHRoaXMuX3BhZ2VzLmxlbmd0aDtcclxuICAgICAgICAgICAgJC5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sIHRoaXMuX2NvcmUpKHRoaXMuX3BhZ2VzWygocG9zaXRpb24gJSBsZW5ndGgpICsgbGVuZ3RoKSAlIGxlbmd0aF0uc3RhcnQsIHNwZWVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkLnByb3h5KHRoaXMuX292ZXJyaWRlcy50bywgdGhpcy5fY29yZSkocG9zaXRpb24sIHNwZWVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5OYXZpZ2F0aW9uID0gTmF2aWdhdGlvbjtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBIYXNoIFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEFydHVzIEtvbGFub3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKi9cclxuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIGhhc2ggcGx1Z2luLlxyXG4gICAgICogQGNsYXNzIFRoZSBIYXNoIFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IGNhcm91c2VsIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgSGFzaCA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGFzaCBtYWluLXBhZ2UtcGFnZSBmb3IgdGhlIGl0ZW1zLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhc2hlcyA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgY2Fyb3VzZWwgZWxlbWVudC5cclxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSB0aGlzLl9jb3JlLiRlbGVtZW50O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLnN0YXJ0UG9zaXRpb24gPT09ICdVUkxIYXNoJykge1xyXG4gICAgICAgICAgICAgICAgICAgICQod2luZG93KS50cmlnZ2VyKCdoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncHJlcGFyZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzaCA9ICQoZS5jb250ZW50KS5maW5kKCdbZGF0YS1oYXNoXScpLmFkZEJhY2soJ1tkYXRhLWhhc2hdJykuYXR0cignZGF0YS1oYXNoJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYXNoZXNbaGFzaF0gPSBlLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnY2hhbmdlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT09ICdwb3NpdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2NvcmUuaXRlbXModGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNoID0gJC5tYXAodGhpcy5faGFzaGVzLCBmdW5jdGlvbihpdGVtLCBoYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSA9PT0gY3VycmVudCA/IGhhc2ggOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzaCB8fCB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSA9PT0gaGFzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IGhhc2g7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBIYXNoLkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciB0aGUgZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTtcclxuXHJcbiAgICAgICAgLy8gcmVnaXN0ZXIgZXZlbnQgbGlzdGVuZXIgZm9yIGhhc2ggbmF2aWdhdGlvblxyXG4gICAgICAgICQod2luZG93KS5vbignaGFzaGNoYW5nZS5vd2wubmF2aWdhdGlvbicsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSxcclxuICAgICAgICAgICAgICAgIGl0ZW1zID0gdGhpcy5fY29yZS4kc3RhZ2UuY2hpbGRyZW4oKSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5faGFzaGVzW2hhc2hdICYmIGl0ZW1zLmluZGV4KHRoaXMuX2hhc2hlc1toYXNoXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA9PT0gdGhpcy5fY29yZS5jdXJyZW50KCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fY29yZS50byh0aGlzLl9jb3JlLnJlbGF0aXZlKHBvc2l0aW9uKSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEhhc2guRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgVVJMaGFzaExpc3RlbmVyOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEhhc2gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgICQod2luZG93KS5vZmYoJ2hhc2hjaGFuZ2Uub3dsLm5hdmlnYXRpb24nKTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5IYXNoID0gSGFzaDtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBTdXBwb3J0IFBsdWdpblxyXG4gKlxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIFZpdmlkIFBsYW5ldCBTb2Z0d2FyZSBHbWJIXHJcbiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIHZhciBzdHlsZSA9ICQoJzxzdXBwb3J0PicpLmdldCgwKS5zdHlsZSxcclxuICAgICAgICBwcmVmaXhlcyA9ICdXZWJraXQgTW96IE8gbXMnLnNwbGl0KCcgJyksXHJcbiAgICAgICAgZXZlbnRzID0ge1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBlbmQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBXZWJraXRUcmFuc2l0aW9uOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgTW96VHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgIE9UcmFuc2l0aW9uOiAnb1RyYW5zaXRpb25FbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICd0cmFuc2l0aW9uZW5kJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhbmltYXRpb246IHtcclxuICAgICAgICAgICAgICAgIGVuZDoge1xyXG4gICAgICAgICAgICAgICAgICAgIFdlYmtpdEFuaW1hdGlvbjogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgTW96QW5pbWF0aW9uOiAnYW5pbWF0aW9uZW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBPQW5pbWF0aW9uOiAnb0FuaW1hdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnYW5pbWF0aW9uZW5kJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0ZXN0cyA9IHtcclxuICAgICAgICAgICAgY3NzdHJhbnNmb3JtczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISF0ZXN0KCd0cmFuc2Zvcm0nKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3NzdHJhbnNmb3JtczNkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXRlc3QoJ3BlcnNwZWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNzc3RyYW5zaXRpb25zOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXRlc3QoJ3RyYW5zaXRpb24nKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3NzYW5pbWF0aW9uczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISF0ZXN0KCdhbmltYXRpb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gdGVzdChwcm9wZXJ0eSwgcHJlZml4ZWQpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2UsXHJcbiAgICAgICAgICAgIHVwcGVyID0gcHJvcGVydHkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKChwcm9wZXJ0eSArICcgJyArIHByZWZpeGVzLmpvaW4odXBwZXIgKyAnICcpICsgdXBwZXIpLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGksIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGlmIChzdHlsZVtwcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcHJlZml4ZWQgPyBwcm9wZXJ0eSA6IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcmVmaXhlZChwcm9wZXJ0eSkge1xyXG4gICAgICAgIHJldHVybiB0ZXN0KHByb3BlcnR5LCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGVzdHMuY3NzdHJhbnNpdGlvbnMoKSkge1xyXG4gICAgICAgIC8qIGpzaGludCAtVzA1MyAqL1xyXG4gICAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gbmV3IFN0cmluZyhwcmVmaXhlZCgndHJhbnNpdGlvbicpKVxyXG4gICAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCA9IGV2ZW50cy50cmFuc2l0aW9uLmVuZFsgJC5zdXBwb3J0LnRyYW5zaXRpb24gXTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGVzdHMuY3NzYW5pbWF0aW9ucygpKSB7XHJcbiAgICAgICAgLyoganNoaW50IC1XMDUzICovXHJcbiAgICAgICAgJC5zdXBwb3J0LmFuaW1hdGlvbiA9IG5ldyBTdHJpbmcocHJlZml4ZWQoJ2FuaW1hdGlvbicpKVxyXG4gICAgICAgICQuc3VwcG9ydC5hbmltYXRpb24uZW5kID0gZXZlbnRzLmFuaW1hdGlvbi5lbmRbICQuc3VwcG9ydC5hbmltYXRpb24gXTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGVzdHMuY3NzdHJhbnNmb3JtcygpKSB7XHJcbiAgICAgICAgLyoganNoaW50IC1XMDUzICovXHJcbiAgICAgICAgJC5zdXBwb3J0LnRyYW5zZm9ybSA9IG5ldyBTdHJpbmcocHJlZml4ZWQoJ3RyYW5zZm9ybScpKTtcclxuICAgICAgICAkLnN1cHBvcnQudHJhbnNmb3JtM2QgPSB0ZXN0cy5jc3N0cmFuc2Zvcm1zM2QoKTtcclxuICAgIH1cclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTsiXX0=
